"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{577:(e,t,a)=>{a.d(t,{CartProvider:()=>o,_:()=>d});var r=a(5155),s=a(2115),i=a(607);let c={cart:null,cartSummary:null,isLoading:!1,error:null};function n(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"SET_CART":return{...e,cart:t.payload,error:null,isLoading:!1};case"SET_CART_SUMMARY":return{...e,cartSummary:t.payload};case"CLEAR_CART":return{...e,cart:null,cartSummary:null};default:return e}}let l=(0,s.createContext)(void 0);function o(e){let{children:t,businessId:a}=e,[o,d]=(0,s.useReducer)(n,c),m=(0,i.wE)(),h=()=>localStorage.getItem("cart_id"),p=()=>{localStorage.removeItem("cart_id")},x=async()=>{d({type:"SET_LOADING",payload:!0});try{var e;let t="session_".concat(Date.now()),r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/create?business_id=").concat(a,"&session_id=").concat(t),{method:"POST",headers:(0,i.KZ)()});if(!r.ok){let e=await r.text();throw Error("Failed to create cart: ".concat(r.status," ").concat(e))}let s=await r.json();if(!s||!s.id)throw Error("Invalid cart response: missing cart ID");e=s.id,localStorage.setItem("cart_id",e),d({type:"SET_CART",payload:s});try{await u(s.id)}catch(e){}}catch(t){let e=t instanceof Error?t.message:"Failed to create cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},u=async e=>{try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e,"/summary"),{headers:(0,i.KZ)()});if(t.ok){let e=await t.json();d({type:"SET_CART_SUMMARY",payload:e})}}catch(e){}},f=async()=>{let e=h();if(e){d({type:"SET_LOADING",payload:!0});try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{headers:(0,i.KZ)()});if(!t.ok){if(404===t.status){p(),d({type:"CLEAR_CART"});return}throw Error("Failed to fetch cart: ".concat(t.status," ").concat(t.statusText))}let a=await t.json();a.items&&a.items.length>0&&a.items.forEach((e,t)=>{}),d({type:"SET_CART",payload:a}),await u(e)}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch cart"})}finally{d({type:"SET_LOADING",payload:!1})}}},y=async e=>{let t=h();if(!t)try{if(await x(),!(t=h()))throw Error("Cart creation succeeded but cart ID is still missing from localStorage")}catch(e){throw Error("Failed to create shopping cart: ".concat(e instanceof Error?e.message:"Unknown error"))}d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items?business_id=").concat(a),{method:"POST",headers:(0,i.KZ)(),body:JSON.stringify(e)});if(!r.ok){let e=await r.text();throw Error("Failed to add item to cart: ".concat(r.status," ").concat(e))}await f()}catch(t){let e=t instanceof Error?t.message:"Failed to add item to cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},g=async(e,t)=>{let a=h();if(a){d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(a,"/items/").concat(e),{method:"PUT",headers:(0,i.KZ)(),body:JSON.stringify({quantity:t})});if(!r.ok){let e=await r.text();throw Error("Failed to update cart item: ".concat(r.status," ").concat(e))}await f()}catch(t){let e=t instanceof Error?t.message:"Failed to update cart item";throw d({type:"SET_ERROR",payload:e}),Error(e)}finally{d({type:"SET_LOADING",payload:!1})}}},v=async e=>{let t=h();if(t){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items/").concat(e),{method:"DELETE",headers:(0,i.KZ)()})).ok)throw Error("Failed to remove item from cart");await f()}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to remove item"})}}},b=async()=>{let e=h();if(e){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{method:"DELETE",headers:(0,i.KZ)()})).ok)throw Error("Failed to clear cart");p(),d({type:"CLEAR_CART"})}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to clear cart"})}}};(0,s.useEffect)(()=>{h()&&f()},[a]);let j={cart:o.cart,cartSummary:o.cartSummary,isLoading:o.isLoading,error:o.error,createCart:x,addToCart:y,updateCartItem:g,removeFromCart:v,clearCart:b,refreshCart:f};return(0,r.jsx)(l.Provider,{value:j,children:t})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},1915:(e,t,a)=>{a.d(t,{default:()=>x});var r=a(5155),s=a(2115),i=a(1873),c=a(4033),n=a(5229),l=a(9540),o=a(6649),d=a(3749),m=a(952),h=a(577);function p(){let{cartSummary:e}=(0,h._)(),t=(null==e?void 0:e.item_count)||0;return(0,r.jsxs)("a",{href:"/cart",className:"relative flex items-center text-gray-700 hover:text-gray-900 font-medium",children:[(0,r.jsx)(m.A,{className:"w-5 h-5"}),t>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:t>9?"9+":t})]})}function x(e){let{businessName:t,city:m,state:h,phone:x,supportHours:u="24/7",logo:f,primaryColor:y="#3b82f6"}=e,[g,v]=(0,s.useState)(!1),[b,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[E,S]=(0,s.useState)(null),R=(0,d.F)(x),_=(0,d.t)(x);(0,s.useEffect)(()=>{let e=()=>{v(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);let T=e=>{E&&(clearTimeout(E),S(null)),N(e)},C=()=>{S(setTimeout(()=>{N(null)},150))},[A,k]=(0,s.useState)([]);(0,s.useEffect)(()=>{(async()=>{try{let{getNavigationCategories:e}=await a.e(417).then(a.bind(a,5417)),t=e();if(t&&t.length>0){let e=t.map(e=>({name:e.name,description:e.description,services:e.services.slice(0,6).map(e=>({name:e.name,description:e.description,href:e.url}))}));k(e)}else k(L())}catch(e){k(L())}})()},[]);let L=()=>[{name:"Air Conditioning",description:"Complete AC services",services:[{name:"Heat Pump Installation",description:"Energy-efficient heat pump systems",href:"/services/heat-pump-service"},{name:"Ductless Split System",description:"Flexible cooling solutions",href:"/services/ductless-split-system"},{name:"Air Conditioner Repair",description:"Fast AC repair service",href:"/services/ac-repair"},{name:"Duct Inspection",description:"Professional ductwork inspection",href:"/services/duct-inspection"}]},{name:"Heating",description:"Heating system services",services:[{name:"Furnace Installation",description:"New furnace installation",href:"/services/furnace-installation"},{name:"Heater Repair",description:"Emergency heater repair",href:"/services/furnace-repair"},{name:"Heating Installation",description:"Complete heating systems",href:"/services/heating-installation"}]},{name:"Electrical",description:"Electrical services",services:[{name:"Panel Installation",description:"Electrical panel upgrade",href:"/services/panel-upgrades"},{name:"Electrical Repair",description:"Emergency electrical repair",href:"/services/electrical-repair"},{name:"Lighting Installation",description:"Interior and exterior lighting",href:"/services/lighting-installation"}]},{name:"Plumbing",description:"Plumbing services",services:[{name:"Water Heater Service",description:"Water heater repair and maintenance",href:"/services/water-heater-service"},{name:"Plumbing Repair",description:"Emergency plumbing repair",href:"/services/plumbing-repair"},{name:"Drain Cleaning",description:"Drain clearing and cleaning",href:"/services/drain-cleaning"}]}],O=[{name:"About Us",href:"/about"},{name:"Service Area",href:"/service-area"},{name:"Why Choose Us",href:"/why-us"},{name:"Our Work",href:"/projects"},{name:"Customer Reviews",href:"/reviews"},{name:"Careers",href:"/careers"},{name:"Blog",href:"/blog"}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"bg-gray-900 text-white py-2 px-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(i.A,{className:"w-4 h-4 mr-2 text-blue-400"}),(0,r.jsxs)("span",{className:"font-medium",children:[m,", ",h]})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center",children:[(0,r.jsxs)("span",{className:"text-green-400 font-medium",children:["Support ",u,":"]}),(0,r.jsx)("a",{href:"tel:".concat(_),className:"ml-2 text-white hover:text-blue-400 transition-colors font-bold",children:R})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{className:"px-3 py-1 text-xs border border-white text-white hover:bg-white hover:text-gray-900 rounded transition-colors font-medium",children:"Get a Quote Now"}),(0,r.jsx)(o.UO,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-1",children:"Book Now"})]})]})}),(0,r.jsxs)("header",{className:"sticky top-0 z-40 transition-all duration-300 ".concat(g?"bg-white shadow-lg border-b":"bg-white border-b border-gray-200"),children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("a",{href:"/",className:"flex items-center",children:f?(0,r.jsx)("img",{src:f,alt:t,className:"h-10 w-auto"}):(0,r.jsx)("div",{className:"text-2xl font-bold",style:{color:y},children:t})})}),(0,r.jsxs)("nav",{className:"hidden lg:flex items-center space-x-8",children:[(0,r.jsxs)("div",{className:"relative",onMouseEnter:()=>T("services"),onMouseLeave:C,children:[(0,r.jsxs)("button",{className:"flex items-center text-gray-700 hover:text-gray-900 font-medium py-2",children:["Services",(0,r.jsx)(c.A,{className:"ml-1 h-4 w-4"})]}),"services"===w&&(0,r.jsx)("div",{className:"absolute top-full left-0 mt-0 w-screen max-w-4xl bg-white shadow-xl border rounded-lg z-50",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:A.map(e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:e.name}),(0,r.jsx)("ul",{className:"space-y-2",children:e.services.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:e.href,className:"block text-sm text-gray-600 hover:text-blue-600 transition-colors",children:e.name})},e.name))})]},e.name))}),(0,r.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900",children:"Need Help Choosing?"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Our experts are here to help - call the number above"})]})})})]})})]}),(0,r.jsx)("a",{href:"/products",className:"text-gray-700 hover:text-gray-900 font-medium py-2",children:"Products"}),(0,r.jsx)("a",{href:"/projects",className:"text-gray-700 hover:text-gray-900 font-medium py-2",children:"Projects"}),(0,r.jsxs)("div",{className:"relative",onMouseEnter:()=>T("company"),onMouseLeave:C,children:[(0,r.jsxs)("button",{className:"flex items-center text-gray-700 hover:text-gray-900 font-medium py-2",children:["Company",(0,r.jsx)(c.A,{className:"ml-1 h-4 w-4"})]}),"company"===w&&(0,r.jsx)("div",{className:"absolute top-full left-0 mt-0 w-64 bg-white shadow-xl border rounded-lg z-50",children:(0,r.jsx)("div",{className:"py-2",children:O.map(e=>(0,r.jsx)("a",{href:e.href,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900",children:e.name},e.name))})})]}),(0,r.jsx)("a",{href:"/pricing",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Pricing"}),(0,r.jsx)("a",{href:"/contact",className:"text-gray-700 hover:text-gray-900 font-medium",children:"Contact"})]}),(0,r.jsx)("div",{className:"hidden lg:flex items-center space-x-3",children:(0,r.jsx)(p,{})}),(0,r.jsxs)("div",{className:"lg:hidden flex items-center space-x-3",children:[(0,r.jsx)(p,{}),(0,r.jsx)("button",{className:"p-2",onClick:()=>j(!b),children:b?(0,r.jsx)(n.A,{className:"h-6 w-6"}):(0,r.jsx)(l.A,{className:"h-6 w-6"})})]})]})}),b&&(0,r.jsx)("div",{className:"lg:hidden bg-white border-t border-gray-200",children:(0,r.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-900 font-semibold mb-2",children:"Services"}),A.map(e=>(0,r.jsxs)("div",{className:"ml-4 mb-3",children:[(0,r.jsx)("div",{className:"font-medium text-gray-800 mb-1",children:e.name}),e.services.map(e=>(0,r.jsx)("a",{href:e.href,className:"block text-sm text-gray-600 py-1",children:e.name},e.name))]},e.name))]}),(0,r.jsx)("a",{href:"/products",className:"block text-gray-700 font-medium",children:"Products"}),(0,r.jsx)("a",{href:"/projects",className:"block text-gray-700 font-medium",children:"Projects"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-gray-900 font-semibold mb-2",children:"Company"}),(0,r.jsx)("div",{className:"ml-4 space-y-1",children:O.map(e=>(0,r.jsx)("a",{href:e.href,className:"block text-sm text-gray-600 py-1",children:e.name},e.name))})]}),(0,r.jsx)("a",{href:"/pricing",className:"block text-gray-700 font-medium",children:"Pricing"}),(0,r.jsx)("a",{href:"/contact",className:"block text-gray-700 font-medium",children:"Contact"})]}),(0,r.jsx)("div",{className:"pt-6 border-t border-gray-200 space-y-3",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Ready to get started? Call the number above or book online!"})})})]})})]})]})}}}]);