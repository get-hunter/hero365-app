"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[127],{127:(e,s,t)=>{t.r(s),t.d(s,{ElectricalLoadCalculator:()=>n});var a=t(5155),l=t(2115);let r=[{name:"LED Recessed Lights",category:"lighting",watts:12,demand_factor:1,is_essential:!0},{name:"Chandelier",category:"lighting",watts:200,demand_factor:1,is_essential:!1},{name:"Outdoor Security Lights",category:"lighting",watts:50,demand_factor:.8,is_essential:!0},{name:"Electric Range",category:"appliances",watts:12e3,demand_factor:.8,is_essential:!0},{name:"Microwave",category:"appliances",watts:1200,demand_factor:.5,is_essential:!0},{name:"Dishwasher",category:"appliances",watts:1800,demand_factor:.75,is_essential:!0},{name:"Garbage Disposal",category:"appliances",watts:500,demand_factor:.5,is_essential:!1},{name:"Electric Dryer",category:"appliances",watts:5e3,demand_factor:.8,is_essential:!0},{name:"Washing Machine",category:"appliances",watts:1150,demand_factor:.7,is_essential:!0},{name:"Central Air Conditioner (3 ton)",category:"hvac",watts:3500,demand_factor:1,is_essential:!0},{name:"Electric Furnace",category:"hvac",watts:15e3,demand_factor:.65,is_essential:!0},{name:"Heat Pump",category:"hvac",watts:4e3,demand_factor:1,is_essential:!0},{name:"Electric Water Heater",category:"appliances",watts:4500,demand_factor:.7,is_essential:!0},{name:"Tankless Water Heater",category:"appliances",watts:18e3,demand_factor:.8,is_essential:!0},{name:"General Purpose Outlets",category:"outlets",watts:180,demand_factor:.5,is_essential:!0},{name:"Dedicated Computer Circuit",category:"outlets",watts:1500,demand_factor:.8,is_essential:!1},{name:"Pool Pump",category:"motors",watts:2e3,demand_factor:.8,is_essential:!1},{name:"Well Pump",category:"motors",watts:1500,demand_factor:.6,is_essential:!0},{name:"Garage Door Opener",category:"motors",watts:550,demand_factor:.2,is_essential:!1}];function n(e){let{businessContext:s,tradeConfig:t,config:n={}}=e,[i,c]=(0,l.useState)([]),[d,o]=(0,l.useState)(200),[m,u]=(0,l.useState)(.12),[x,g]=(0,l.useState)(null),[h,p]=(0,l.useState)(!1),[y,b]=(0,l.useState)("all");(0,l.useEffect)(()=>{c([{id:"1",...r.find(e=>"LED Recessed Lights"===e.name),quantity:10,hours_per_day:6},{id:"2",...r.find(e=>"Electric Range"===e.name),quantity:1,hours_per_day:2},{id:"3",...r.find(e=>"Central Air Conditioner (3 ton)"===e.name),quantity:1,hours_per_day:8},{id:"4",...r.find(e=>"Electric Water Heater"===e.name),quantity:1,hours_per_day:4}])},[]),(0,l.useEffect)(()=>{i.length>0&&f()},[i,d,m]);let f=()=>{p(!0),setTimeout(()=>{let e=i.reduce((e,s)=>e+s.watts*s.quantity,0),s=i.reduce((e,s)=>e+s.watts*s.quantity*s.demand_factor,0),t=j(s),a=s/(240*d)*100,l=100-a,r=30*i.reduce((e,s)=>e+s.watts*s.quantity*s.hours_per_day/1e3,0)*m,n=v(i,s,d);g({total_connected_load:Math.round(e),demand_load:Math.round(s),recommended_service_size:t,current_utilization:Math.round(10*a)/10,safety_margin:Math.round(10*l)/10,upgrade_needed:a>80||l<20,estimated_monthly_cost:Math.round(100*r)/100,code_compliance:n}),p(!1)},500)},j=e=>e<=8e3?100:e<=16e3?200:e<=32e3?400:600,v=(e,s,t)=>{let a=[],l=[];s/(240*t)*100>80&&(a.push("Service utilization exceeds 80% (NEC 220.87)"),l.push("Consider upgrading electrical service"));let r=e.some(e=>e.name.includes("Range")),n=e.some(e=>e.name.includes("Dryer"));return r&&l.push("Electric range requires dedicated 240V circuit (NEC 210.19)"),n&&l.push("Electric dryer requires dedicated 240V circuit (NEC 210.11)"),l.push("GFCI protection required for bathroom, kitchen, and outdoor outlets (NEC 210.8)"),l.push("AFCI protection required for most 15A and 20A circuits (NEC 210.12)"),{meets_nec:0===a.length,issues:a,recommendations:l}},N=(e,s,t)=>{c(i.map(a=>a.id===e?{...a,[s]:t}:a))},_="all"===y?r:r.filter(e=>e.category===y);return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 text-white",style:{backgroundColor:t.colors.primary},children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Electrical Load Calculator"}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Calculate your home's electrical load requirements and panel capacity needs"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Service Size (Amps)"}),(0,a.jsxs)("select",{value:d,onChange:e=>o(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:60,children:"60 Amp (Older Home)"}),(0,a.jsx)("option",{value:100,children:"100 Amp (Standard)"}),(0,a.jsx)("option",{value:200,children:"200 Amp (Modern)"}),(0,a.jsx)("option",{value:400,children:"400 Amp (Large Home)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Electricity Rate ($/kWh)"}),(0,a.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>u(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Current Electrical Loads"}),(0,a.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("span",{className:"ml-2 px-2 py-1 text-xs rounded-full ".concat((e=>{let s={lighting:"bg-yellow-100 text-yellow-800",appliances:"bg-blue-100 text-blue-800",hvac:"bg-green-100 text-green-800",outlets:"bg-purple-100 text-purple-800",motors:"bg-red-100 text-red-800",other:"bg-gray-100 text-gray-800"};return s[e]||s.other})(e.category)),children:e.category})]}),(0,a.jsx)("button",{onClick:()=>{var s;return s=e.id,void c(i.filter(e=>e.id!==s))},className:"text-red-600 hover:text-red-800",children:"✕"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Watts Each"}),(0,a.jsx)("input",{type:"number",value:e.watts,onChange:s=>N(e.id,"watts",parseInt(s.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Quantity"}),(0,a.jsx)("input",{type:"number",value:e.quantity,onChange:s=>N(e.id,"quantity",parseInt(s.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Hours/Day"}),(0,a.jsx)("input",{type:"number",value:e.hours_per_day,onChange:s=>N(e.id,"hours_per_day",parseInt(s.target.value)||0),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Total Load"}),(0,a.jsxs)("div",{className:"font-medium",children:[(e.watts*e.quantity).toLocaleString(),"W"]})]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold mb-4",children:"Add Electrical Loads"}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Categories"}),(0,a.jsx)("option",{value:"lighting",children:"Lighting"}),(0,a.jsx)("option",{value:"appliances",children:"Appliances"}),(0,a.jsx)("option",{value:"hvac",children:"HVAC"}),(0,a.jsx)("option",{value:"outlets",children:"Outlets"}),(0,a.jsx)("option",{value:"motors",children:"Motors"})]})}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:_.map((e,s)=>(0,a.jsxs)("button",{onClick:()=>{c([...i,{id:Date.now().toString(),...e,quantity:1,hours_per_day:4}])},className:"text-left p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium text-gray-900 mb-1",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.watts,"W • ",e.category]})]},s))})]}),x&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Load Calculation Results"}),h?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-3 text-gray-600",children:"Calculating electrical loads..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[x.total_connected_load.toLocaleString(),"W"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Connected Load"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[x.demand_load.toLocaleString(),"W"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Calculated Demand"})]}),(0,a.jsxs)("div",{className:"text-center p-4 rounded-lg ".concat(x.current_utilization>80?"bg-red-50":"bg-yellow-50"),children:[(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(x.current_utilization>80?"text-red-600":"text-yellow-600"),children:[x.current_utilization,"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Service Utilization"})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",x.estimated_monthly_cost]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Est. Monthly Cost"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:"Recommendations"}),x.upgrade_needed&&(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"text-red-600 mr-2",children:"⚠️"}),(0,a.jsx)("span",{className:"font-semibold text-red-800",children:"Service Upgrade Recommended"})]}),(0,a.jsxs)("p",{className:"text-red-700 text-sm",children:["Your current ",d,"A service is at ",x.current_utilization,"% capacity. We recommend upgrading to a ",x.recommended_service_size,"A service for safety and future needs."]})]}),x.safety_margin<25&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"text-yellow-600 mr-2",children:"⚡"}),(0,a.jsx)("span",{className:"font-semibold text-yellow-800",children:"Low Safety Margin"})]}),(0,a.jsxs)("p",{className:"text-yellow-700 text-sm",children:["Your safety margin is ",x.safety_margin,"%. NEC recommends at least 25% spare capacity for safety and future expansion."]})]})]}),n.includeCodeInfo&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-900 mb-3",children:"Code Compliance (NEC)"}),(0,a.jsxs)("div",{className:"p-4 rounded-lg mb-4 ".concat(x.code_compliance.meets_nec?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"),children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"mr-2 ".concat(x.code_compliance.meets_nec?"text-green-600":"text-yellow-600"),children:x.code_compliance.meets_nec?"✅":"⚠️"}),(0,a.jsx)("span",{className:"font-semibold ".concat(x.code_compliance.meets_nec?"text-green-800":"text-yellow-800"),children:x.code_compliance.meets_nec?"Meets NEC Requirements":"Code Issues Identified"})]}),x.code_compliance.issues.length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"font-medium text-yellow-800 mb-1",children:"Issues:"}),(0,a.jsx)("ul",{className:"text-sm text-yellow-700 space-y-1",children:x.code_compliance.issues.map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-800 mb-1",children:"Recommendations:"}),(0,a.jsx)("ul",{className:"text-sm text-gray-700 space-y-1",children:x.code_compliance.recommendations.slice(0,3).map((e,s)=>(0,a.jsxs)("li",{children:["• ",e]},s))})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg text-center",children:[(0,a.jsx)("h5",{className:"font-semibold text-gray-900 mb-2",children:"Need Professional Assessment?"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Our licensed electricians can perform a detailed load analysis and ensure code compliance"}),n.showTechnicians&&s.technicians.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Our Licensed Electricians:"}),(0,a.jsx)("div",{className:"flex justify-center space-x-4",children:s.technicians.filter(e=>e.specializations.some(e=>e.toLowerCase().includes("electric"))).slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-1",children:(0,a.jsx)("span",{className:"text-blue-600 font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.years_experience,"y exp"]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,a.jsxs)("a",{href:"tel:".concat(s.business.phone),className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCDE"}),"Call ",s.business.phone]}),(0,a.jsxs)("a",{href:"/booking",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-900 font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC5"}),"Schedule Assessment"]})]})]})]})]})]})]})}}}]);