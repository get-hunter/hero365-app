"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{3749:(e,t,s)=>{s.d(t,{F:()=>n,t:()=>i});var r=s(104);function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"US";if(!e)return"";try{let s=(0,r.l)(e,t);if(!s)return e;return s.formatNational()}catch(t){return e}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"US";if(!e)return"";try{let s=(0,r.l)(e,t);if(!s)return e;return s.number}catch(t){return e}}},5047:(e,t,s)=>{s.d(t,{Go:()=>c,Wp:()=>l});var r=s(5155);s(2115);var n=s(7003),i=s(6485),o=s(5016);s(8408);var a=s(5704);function c(e){let{onClick:t,companyName:s="Book Appointment",primaryColor:a="#3b82f6",className:c}=e;return(0,r.jsxs)(n.$,{onClick:t,className:(0,o.cn)("fixed bottom-4 right-4 z-40 rounded-full shadow-lg",c),style:{backgroundColor:a},children:[(0,r.jsx)(i.A,{className:"w-5 h-5 mr-2"}),s]})}function l(e){let{businessId:t,mode:s="inline",theme:r="light",primaryColor:n="#3b82f6",companyName:i="Book Appointment",width:o="100%",height:c="600px"}=e,l=a.env.NEXT_PUBLIC_WIDGET_URL||"https://hero365.ai/widget",d=new URLSearchParams({businessId:t,mode:s,theme:r,primaryColor:n,companyName:i});return{iframe:'<iframe \n  src="'.concat(l,"?").concat(d.toString(),'" \n  width="').concat(o,'" \n  height="').concat(c,'"\n  frameborder="0"\n  style="border: none; border-radius: 8px;"\n  title="Book Appointment - ').concat(i,'">\n</iframe>'),script:"<script>\n  (function() {\n    var script = document.createElement('script');\n    script.src = '".concat(l,"/embed.js';\n    script.setAttribute('data-business-id', '").concat(t,"');\n    script.setAttribute('data-mode', '").concat(s,"');\n    script.setAttribute('data-theme', '").concat(r,"');\n    script.setAttribute('data-primary-color', '").concat(n,"');\n    script.setAttribute('data-company-name', '").concat(i,"');\n    document.head.appendChild(script);\n  })();\n<\/script>"),directUrl:"".concat(l,"?").concat(d.toString())}}},6649:(e,t,s)=>{s.d(t,{UO:()=>w,Hero365BookingProvider:()=>b});var r=s(5155),n=s(2115),i=s(5229),o=s(8408),a=s(2056),c=s(9559),l=s(5626),d=s(9141),u=s(3664),m=s(7003),h=s(3209),p=s(7812);class g extends n.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:"ERR-".concat(Date.now().toString().slice(-6))}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),fetch("/api/v1/analytics/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"booking_widget_error",properties:{error:e.message,stack:e.stack,componentStack:t.componentStack,errorId:this.state.errorId,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href}})}).catch(e=>{})}render(){if(this.state.hasError){let{businessName:e="our team",businessPhone:t,businessEmail:s}=this.props,{error:n,errorId:i}=this.state;return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsxs)(h.Zp,{className:"w-full max-w-2xl",children:[(0,r.jsxs)(h.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(a.A,{className:"w-8 h-8 text-red-600"})}),(0,r.jsx)(h.ZB,{className:"text-2xl text-gray-900",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"We encountered an unexpected error while processing your booking request. Don't worry - your information is safe and we're here to help."})]}),(0,r.jsxs)(h.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Error Reference"}),(0,r.jsx)(p.E,{variant:"secondary",className:"font-mono text-xs",children:i})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Please reference this ID when contacting support."})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:"What you can do:"}),(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsxs)(m.$,{onClick:this.handleRetry,className:"w-full justify-start",variant:"outline",children:[(0,r.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Try Again"]}),(0,r.jsxs)(m.$,{onClick:this.handleGoBack,className:"w-full justify-start",variant:"outline",children:[(0,r.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Go Back to Website"]}),t&&(0,r.jsxs)(m.$,{onClick:()=>window.open("tel:".concat(t),"_self"),className:"w-full justify-start",variant:"outline",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 mr-2"}),"Call ",e," - ",t]}),s&&(0,r.jsxs)(m.$,{onClick:()=>window.open("mailto:".concat(s,"?subject=Booking Error ").concat(i),"_self"),className:"w-full justify-start",variant:"outline",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"Email ",e]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,r.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"Need immediate assistance?"}),(0,r.jsx)("p",{className:"text-sm text-blue-800",children:t?(0,r.jsxs)(r.Fragment,{children:["Call us directly at ",(0,r.jsx)("strong",{children:t})," and we'll help you schedule your service right away."]}):(0,r.jsxs)(r.Fragment,{children:["Contact ",e," directly and we'll help you schedule your service right away."]})})]}),!1]})]})})}return this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""}),this.props.onReset&&this.props.onReset()},this.handleGoBack=()=>{this.props.onGoBack?this.props.onGoBack():window.location.reload()},this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}}var x=s(5047);let f=(0,n.createContext)(void 0);function b(e){let{children:t,businessId:s,services:a,companyName:c="Professional Services",companyLogo:l,companyPhone:d,companyEmail:u,primaryColor:m="#3b82f6",showLauncher:h=!1}=e,[p,b]=(0,n.useState)(!1),[w,y]=(0,n.useState)(),v=(0,n.useCallback)(e=>{y(e),b(!0),document.body.style.overflow="hidden",window.gtag&&window.gtag("event","booking_widget_opened",{business_id:s,service_id:e})},[s]),j=(0,n.useCallback)(()=>{b(!1),y(void 0),document.body.style.overflow="",window.gtag&&window.gtag("event","booking_widget_closed",{business_id:s})},[s]),N=w?a.filter(e=>e.id===w):a;return(0,r.jsxs)(f.Provider,{value:{isOpen:p,openBookingWidget:v,closeBookingWidget:j,selectedServiceId:w},children:[t,h&&!p&&(0,r.jsx)(x.Go,{onClick:()=>v(),companyName:"Book ".concat(c),primaryColor:m}),p&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:j}),(0,r.jsx)("div",{className:"relative z-10 flex items-start md:items-center justify-center min-h-screen p-0 md:p-6",children:(0,r.jsxs)("div",{className:"w-full h-full md:h-auto md:w-full md:max-w-4xl md:max-h-[90vh] flex flex-col bg-white md:rounded-xl shadow-2xl overflow-hidden relative",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:j,className:"absolute top-4 right-4 z-20 p-2 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors duration-200 shadow-sm","aria-label":"Close booking widget",children:(0,r.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,r.jsx)(g,{businessName:c,businessPhone:d,businessEmail:u,onReset:()=>{j(),setTimeout(()=>v(),100)},onGoBack:j,children:(0,r.jsx)(o.default,{businessId:s,businessName:c,businessPhone:d,businessEmail:u,services:N,onClose:j,onComplete:e=>{window.gtag&&window.gtag("event","booking_completed",{business_id:s,service_id:e.service_id,booking_id:e.id,value:e.quoted_price||0})},className:"h-full"})})})]})})]})]})}function w(e){let{children:t,serviceId:s,variant:i="primary",size:o="default",className:a="",...c}=e,{openBookingWidget:l}=function(){let e=(0,n.useContext)(f);if(void 0===e)throw Error("useBookingWidget must be used within a BookingWidgetProvider");return e}();return(0,r.jsx)("button",{className:"".concat("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none"," ").concat({primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",outline:"border border-input hover:bg-accent hover:text-accent-foreground"}[i]," ").concat({sm:"h-9 px-3 text-sm",default:"h-10 py-2 px-4",lg:"h-11 px-8 text-lg"}[o]," ").concat(a),onClick:()=>l(s),...c,children:t})}}}]);