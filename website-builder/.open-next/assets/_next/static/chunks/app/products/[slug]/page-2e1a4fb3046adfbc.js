(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{1313:(e,t,s)=>{Promise.resolve().then(s.bind(s,1968)),Promise.resolve().then(s.bind(s,5581)),Promise.resolve().then(s.bind(s,6649)),Promise.resolve().then(s.bind(s,1915)),Promise.resolve().then(s.bind(s,577))},1968:(e,t,s)=>{"use strict";s.d(t,{ProductDetailClient:()=>d});var a=s(5155),i=s(2115),n=s(6649),l=s(577),r=s(607),o=s(8321);function c(e){let{product:t,offer:s,seller:i,review:n,pageUrl:l}=e;if(!t)return null;let r=[];Array.isArray(t.images)&&r.push(...t.images),t.featuredImage&&r.unshift(t.featuredImage),t.featured_image_url&&r.unshift(t.featured_image_url);let c={"@context":"https://schema.org","@type":"Product",name:t.name,description:t.description||t.long_description||"",brand:t.brand?{"@type":"Brand",name:t.brand}:void 0,model:t.model||t.sku,sku:t.sku,category:t.category||t.category_name,image:r.length?r:void 0,url:l,additionalProperty:t.specifications||t.technical_specs||void 0};return s&&(c.offers={"@type":"Offer",priceCurrency:s.priceCurrency||"USD",price:s.price,availability:"string"==typeof s.availability&&s.availability.startsWith("http")?s.availability:"https://schema.org/".concat(s.availability||"InStock"),priceValidUntil:s.priceValidUntil,seller:i?{"@type":"Organization",name:i.name,telephone:i.telephone,url:i.url}:void 0,url:l}),n&&(c.aggregateRating={"@type":"AggregateRating",ratingValue:n.rating,reviewCount:n.reviewCount,bestRating:n.bestRating||5,worstRating:n.worstRating||1}),(0,a.jsx)(o.default,{id:"product-schema-".concat(t.sku||t.id||"product"),type:"application/ld+json",strategy:"afterInteractive",children:JSON.stringify(c)})}function d(e){var t,s,o,d;let{product:u,businessId:m,businessProfile:x,categories:p,membershipPlans:h}=e,[g,_]=(0,i.useState)((null==(t=u.installation_options)?void 0:t.find(e=>e.is_default))||(null==(s=u.installation_options)?void 0:s[0])||null),[f,b]=(0,i.useState)(1),[y,v]=(0,i.useState)("none"),[j,N]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[S,C]=(0,i.useState)(0),[P,q]=(0,i.useState)(null),[L,R]=(0,i.useState)(u.unit_price),[I,M]=(0,i.useState)(!1),{addToCart:B}=(0,l._)(),D=[...u.featured_image_url?[u.featured_image_url]:[],...u.gallery_images||[]].filter(Boolean);(0,i.useEffect)(()=>{g?O():u.requires_professional_install||N({product_unit_price:u.unit_price,installation_base_price:0,quantity:f,product_subtotal:u.unit_price*f,installation_subtotal:0,subtotal_before_discounts:u.unit_price*f,membership_type:y,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:u.unit_price*f,tax_rate:.08,tax_amount:u.unit_price*f*.08,total_amount:u.unit_price*f*1.08,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((u.unit_price*f*1.08).toFixed(2))})},[g,f,y,u.id,u.unit_price,u.requires_professional_install]);let O=async()=>{if(g){k(!0);try{let e=new URLSearchParams({installation_option_id:g.id,quantity:String(f)}),t=await fetch("".concat("http://127.0.0.1:8000","/api/v1/public/contractors/product-pricing/").concat(m,"/").concat(u.id,"?").concat(e.toString()),{headers:(0,r.KZ)()});if(t.ok){let e=await t.json();N(e)}else{let e=g.base_install_price||0,t=u.unit_price*f,s=e*f,a=t+s,i=.08*a;N({product_unit_price:u.unit_price,installation_base_price:e,quantity:f,product_subtotal:t,installation_subtotal:s,subtotal_before_discounts:a,membership_type:y,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:a,tax_rate:.08,tax_amount:i,total_amount:a+i,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((a+i).toFixed(2))})}}catch(e){}finally{k(!1)}}},F=async()=>{if(!u.requires_professional_install||g&&j){u.requires_professional_install||j||N({product_unit_price:u.unit_price,installation_base_price:0,quantity:f,product_subtotal:u.unit_price*f,installation_subtotal:0,subtotal_before_discounts:u.unit_price*f,membership_type:y,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:u.unit_price*f,tax_rate:.08,tax_amount:u.unit_price*f*.08,total_amount:u.unit_price*f*1.08,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((u.unit_price*f*1.08).toFixed(2))}),M(!0);try{await B({product_id:u.id,installation_option_id:null==g?void 0:g.id,quantity:f,membership_type:y})}catch(t){let e=t instanceof Error?t.message:"Failed to add product to cart";alert("Failed to add product to cart: ".concat(e,"\n\nPlease try again or contact support if the issue persists."))}finally{M(!1)}}},U=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{product:{name:u.name,description:u.description||u.long_description||"",brand:u.brand||"Professional Grade",model:u.sku,sku:u.sku,category:u.category_name||"HVAC Equipment",specifications:u.technical_specs||{},energyRating:u.energy_efficiency_rating,images:u.gallery_images||[],featuredImage:u.featured_image_url,requiresProfessionalInstall:u.requires_professional_install,installationService:g?{name:g.option_name,description:g.description||"Professional installation service",price:g.base_install_price,duration:"".concat(g.estimated_duration_hours," hours"),warranty:g.warranty_years?"".concat(g.warranty_years," years"):"1 year",included:g.included_in_install||[]}:void 0,keywords:[u.name,u.brand||"",u.category_name||"","installation","professional service",(null==x||null==(o=x.service_areas)?void 0:o[0])||"local area"].filter(Boolean),slug:u.slug||u.id},offer:{price:u.unit_price,priceCurrency:"USD",availability:u.is_active&&(u.current_stock||0)>0?"InStock":"OutOfStock",priceValidUntil:new Date(Date.now()+7776e6).toISOString().split("T")[0],warranty:u.warranty_years?"".concat(u.warranty_years," years"):void 0},seller:{name:(null==x?void 0:x.business_name)||"Professional Services",telephone:(null==x?void 0:x.phone)||"",url:window.location.origin,address:{streetAddress:(null==x?void 0:x.address)||"123 Main St",addressLocality:(null==x||null==(d=x.service_areas)?void 0:d[0])||"Austin",addressRegion:"TX",postalCode:"78701"},businessType:"Contractor",licenseNumber:null==x?void 0:x.license_number},review:u.warranty_years?{rating:4.8,reviewCount:25,bestRating:5,worstRating:1}:void 0,pageUrl:window.location.href}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsx)("a",{href:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,a.jsx)("a",{href:"/products",className:"ml-1 text-gray-500 hover:text-gray-700",children:"Products"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"ml-1 text-gray-500",children:u.name})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4 lg:col-span-5",children:[(0,a.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200",children:D.length>0?(0,a.jsx)("img",{src:D[S],alt:u.name,className:"h-80 w-full object-cover object-center"}):(0,a.jsx)("div",{className:"h-80 w-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-24 w-24 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h6m-6 4h6m-2 4h2"})})})}),D.length>1&&(0,a.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:D.map((e,t)=>(0,a.jsx)("button",{onClick:()=>C(t),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden ".concat(t===S?"ring-2 ring-blue-500":""),children:(0,a.jsx)("img",{src:e,alt:"".concat(u.name," - Image ").concat(t+1),className:"w-full h-full object-cover"})},t))}),u.product_highlights&&u.product_highlights.length>0&&(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-3",children:"Key Features"}),(0,a.jsx)("ul",{className:"space-y-2",children:u.product_highlights.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center text-green-800",children:[(0,a.jsx)("svg",{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e]},t))})]})]}),(0,a.jsxs)("div",{className:"space-y-6 lg:col-span-7",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[u.category_name&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u.category_name}),u.is_featured&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Featured"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:u.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("span",{children:["SKU: ",u.sku]}),u.warranty_years&&(0,a.jsxs)("span",{className:"text-green-600",children:[u.warranty_years," Year Warranty"]}),u.energy_efficiency_rating&&(0,a.jsxs)("span",{className:"text-blue-600",children:[u.energy_efficiency_rating," Energy Rating"]})]}),u.description&&(0,a.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:u.description})]}),u.requires_professional_install&&u.installation_options&&u.installation_options.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Installation Options"}),(0,a.jsx)("div",{className:"space-y-3",children:u.installation_options.map(e=>(0,a.jsxs)("label",{className:"relative",children:[(0,a.jsx)("input",{type:"radio",name:"installation",value:e.id,checked:(null==g?void 0:g.id)===e.id,onChange:()=>_(e),className:"sr-only"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat((null==g?void 0:g.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.option_name}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.estimated_duration_hours&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Estimated Duration: ",e.estimated_duration_hours," hours"]})]}),(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsx)("div",{className:"font-semibold",children:U(e.base_install_price)}),"none"!==y&&(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Member pricing available"})]})]})})]},e.id))})]}),u.requires_professional_install&&(!u.installation_options||0===u.installation_options.length)&&(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Professional Installation Required"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"This product requires professional installation. Please contact us for installation options and pricing."})]})]})}),u.has_variations&&(0,a.jsx)(ProductVariantSelector,{variants:[],basePrice:u.unit_price,onVariantChange:(e,t)=>{q(e),R(t)}}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,a.jsx)("select",{value:f,onChange:e=>b(parseInt(e.target.value)),className:"w-24 px-2 py-1.5 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-3 sm:space-y-0",children:[(0,a.jsx)("button",{onClick:F,disabled:w||I||u.requires_professional_install&&!g,className:"w-full sm:flex-1 bg-blue-600 text-white font-medium py-2.5 px-4 text-sm rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:I?"Adding to Cart...":"Add to Cart"}),(0,a.jsxs)("div",{className:"flex space-x-3 w-full sm:flex-1",children:[(0,a.jsx)("a",{href:"tel:".concat(x.phone),className:"flex-1 border border-gray-300 text-gray-700 font-medium py-2.5 px-4 text-sm rounded-md hover:bg-gray-50 transition-colors text-center",children:"Call for Quote"}),(0,a.jsx)(n.UO,{className:"flex-1 text-sm py-2.5",children:"Schedule Install"})]})]}),h.length>0&&g&&(0,a.jsx)(MembershipPricingDisplay,{productPrice:L,installationPrice:g.base_install_price,membershipPlans:h,selectedMembership:"none"===y?null:y,onMembershipSelect:e=>{v(e||"none")}}),j&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Breakdown"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Product (",f,"x)"]}),(0,a.jsx)("span",{children:U(j.product_subtotal)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Installation"}),(0,a.jsx)("span",{children:U(j.installation_subtotal)})]}),j.total_discount_amount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Member Discount"}),(0,a.jsxs)("span",{children:["-",U(j.total_discount_amount)]})]}),j.bundle_savings>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Bundle Savings"}),(0,a.jsxs)("span",{children:["-",U(j.bundle_savings)]})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsx)("span",{children:U(j.subtotal_after_discounts)})]}),j.tax_amount>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Tax"}),(0,a.jsx)("span",{children:U(j.tax_amount)})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:U(j.total_amount)})]}),j.total_savings>0&&(0,a.jsxs)("div",{className:"text-sm text-green-600 text-right",children:["You save ",U(j.total_savings)," (",j.savings_percentage.toFixed(0),"%)"]})]})]}),u.technical_specs&&Object.keys(u.technical_specs).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Technical Specifications"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsx)("dl",{className:"grid grid-cols-1 gap-2",children:Object.entries(u.technical_specs).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("dt",{className:"text-sm font-medium text-gray-600 capitalize",children:[t.replace(/_/g," "),":"]}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:String(s)})]},t)})})})]}),u.long_description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),(0,a.jsx)("div",{className:"prose text-gray-700",children:(0,a.jsx)("p",{children:u.long_description})})]})]})]}),(0,a.jsxs)("div",{className:"mt-16 border-t border-gray-200 pt-16",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"You Might Also Like"}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Explore more professional-grade equipment"}),(0,a.jsxs)("a",{href:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:["Browse All Products",(0,a.jsx)("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]})]})}}},e=>{e.O(0,[96,408,141,962,915,358],()=>e(e.s=1313)),_N_E=e.O()}]);