(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[221],{1777:(e,s,t)=>{Promise.resolve().then(t.bind(t,3658)),Promise.resolve().then(t.bind(t,8127)),Promise.resolve().then(t.bind(t,8775)),Promise.resolve().then(t.bind(t,577))},3658:(e,s,t)=>{"use strict";t.d(s,{ProductDetailClient:()=>M});var a=t(5155),l=t(2115),i=t(8127),n=t(577),r=t(3209),c=t(7812),o=t(7003),d=t(7910),u=t(9347),m=t(8854),x=t(5917),p=t(6132),h=t(6983),g=t(3842),_=t(9141);function f(e){let{productPrice:s,installationPrice:t,membershipPlans:i,onMembershipSelect:n,selectedMembership:f,className:j=""}=e,[b,y]=(0,l.useState)(!1),v=e=>{let a=s+t,l=e/100*s,i=e/100*t,n=l+i,r=a-n;return{product_unit_price:s,installation_base_price:t,subtotal_before_discounts:a,product_discount_amount:l,installation_discount_amount:i,total_discount_amount:n,subtotal_after_discounts:r,total_amount:r,total_savings:n,savings_percentage:n/a*100}},N=v(0),w=e=>{switch(e){case"residential":return(0,a.jsx)(d.A,{className:"w-5 h-5"});case"commercial":return(0,a.jsx)(u.A,{className:"w-5 h-5"});case"premium":return(0,a.jsx)(m.A,{className:"w-5 h-5"});default:return(0,a.jsx)(x.A,{className:"w-5 h-5"})}},k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return i&&0!==i.length?(0,a.jsxs)("div",{className:"space-y-4 ".concat(j),children:[(0,a.jsxs)(r.Zp,{className:"border border-blue-100 bg-blue-50/60",children:[(0,a.jsxs)(r.aR,{className:"py-3",children:[(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2 text-blue-800 text-base",children:[(0,a.jsx)(u.A,{className:"w-4 h-4"}),"Member Exclusive Pricing"]}),(0,a.jsx)("p",{className:"text-blue-700 text-xs",children:"Join our membership program for instant savings on products and installation"})]}),(0,a.jsxs)(r.Wu,{className:"pt-0",children:[(0,a.jsxs)("div",{className:"grid gap-3 md:grid-cols-2 lg:grid-cols-4 items-stretch",children:[(0,a.jsx)("div",{className:"p-3 rounded-lg border ".concat(null===f?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-gray-300"," transition-all cursor-pointer h-full"),onClick:()=>null==n?void 0:n(null),children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-800 mb-1 text-sm",children:"Regular Price"}),(0,a.jsx)("div",{className:"text-xl font-semibold text-gray-900 mb-1",children:k(N.total_amount)}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"No membership required"}),null===f&&(0,a.jsx)(c.E,{variant:"secondary",className:"mt-2 text-[10px]",children:"Selected"})]})}),i.map(e=>{let s=v(e.discount_percentage),t=f===e.plan_type;return(0,a.jsxs)("div",{className:"p-3 rounded-lg border ".concat(t?"border-blue-400 bg-blue-50 shadow-sm":"border-gray-200 bg-white hover:border-blue-300"," transition-all cursor-pointer relative h-full"),onClick:()=>null==n?void 0:n(e.plan_type),style:{borderColor:t?e.color_scheme:void 0},children:[e.popular_badge&&(0,a.jsx)(c.E,{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 text-[10px]",style:{backgroundColor:e.color_scheme},children:e.popular_badge}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-1",children:[w(e.plan_type),(0,a.jsx)("h4",{className:"font-medium text-gray-800 text-sm",children:e.name})]}),(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsx)("div",{className:"text-lg font-bold",style:{color:e.color_scheme},children:k(s.total_amount)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 line-through",children:k(N.total_amount)})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)(c.E,{variant:"secondary",className:"text-[10px]",style:{backgroundColor:"".concat(e.color_scheme,"20"),color:e.color_scheme},children:["Save ",k(s.total_savings)," (",e.discount_percentage,"% off)"]}),(0,a.jsx)("p",{className:"text-[11px] text-gray-600",children:e.tagline})]}),t&&(0,a.jsx)(c.E,{variant:"default",className:"mt-2 text-[10px]",style:{backgroundColor:e.color_scheme},children:"Selected"})]})]},e.id)})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>y(!b),className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[b?"Hide":"Show"," Membership Benefits",(0,a.jsx)(p.A,{className:"w-4 h-4 ml-2"})]})}),b&&(0,a.jsx)("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:i.map(e=>(0,a.jsxs)(r.Zp,{className:"border",style:{borderColor:"".concat(e.color_scheme,"40")},children:[(0,a.jsxs)(r.aR,{className:"pb-2",children:[(0,a.jsxs)(r.ZB,{className:"text-base flex items-center gap-2",children:[w(e.plan_type),e.name]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xs font-medium",style:{color:e.color_scheme},children:[k(e.price_monthly),"/month"]}),(0,a.jsxs)("span",{className:"text-[11px] text-gray-500",children:["or ",k(e.price_yearly),"/year"]})]})]}),(0,a.jsx)(r.Wu,{className:"pt-0",children:(0,a.jsxs)("ul",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),e.discount_percentage,"% off all services"]}),e.priority_service&&(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-blue-500"}),"Priority scheduling"]}),e.free_diagnostics&&(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 text-orange-500"}),"Free diagnostics"]}),e.emergency_response&&(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.A,{className:"w-4 h-4 text-red-500"}),"24/7 emergency response"]}),e.annual_tune_ups>0&&(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),e.annual_tune_ups," annual tune-ups"]}),e.extended_warranty&&(0,a.jsxs)("li",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 text-purple-500"}),"Extended warranty"]})]})})]},e.id))})]})]}),f&&(0,a.jsxs)(r.Zp,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(r.aR,{className:"py-3",children:(0,a.jsxs)(r.ZB,{className:"text-green-800 flex items-center gap-2 text-base",children:[(0,a.jsx)(x.A,{className:"w-5 h-5"}),"Your Membership Savings"]})}),(0,a.jsx)(r.Wu,{children:(()=>{let e=i.find(e=>e.plan_type===f);if(!e)return null;let s=v(e.discount_percentage);return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-sm",children:"Product Price:"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:k(s.product_unit_price)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600 text-sm",children:"Installation Price:"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:k(s.installation_base_price)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm border-t pt-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Subtotal:"}),(0,a.jsx)("span",{children:k(s.subtotal_before_discounts)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-green-600",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Member Discount (",e.discount_percentage,"%):"]}),(0,a.jsxs)("span",{className:"text-sm",children:["-",k(s.total_discount_amount)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold border-t pt-2",children:[(0,a.jsx)("span",{children:"Your Price:"}),(0,a.jsx)("span",{className:"text-green-600",children:k(s.total_amount)})]}),(0,a.jsxs)("div",{className:"text-center text-sm text-green-600 font-medium",children:["You save ",k(s.total_savings)," with ",e.name,"!"]})]})})()})]})]}):null}var j=t(7217),b=t(9926),y=t(6154),v=t(2893),N=t(968),w=t(5870),k=t(6617),S=t(3327);function C(e){let{variants:s,basePrice:t,onVariantChange:i,className:n=""}=e,[d,u]=(0,l.useState)({}),[m,x]=(0,l.useState)(null),[p,h]=(0,l.useState)(t),g=l.useMemo(()=>{if(!s.length)return[];let e=new Map,t=new Map,a=new Map;return s.forEach(s=>{Object.entries(s.variant_attributes).forEach(l=>{let[i,n]=l;e.has(i)||(e.set(i,new Set),t.set(i,new Map),a.set(i,new Map)),e.get(i).add(String(n)),t.get(i).set(String(n),s.price_adjustment),a.get(i).set(String(n),s.is_active&&s.available_stock>0)})}),Array.from(e.entries()).map(e=>{let[l,i]=e,n=f(l),r=C(l);return{attribute:l,label:r,icon:n,values:Array.from(i).map(e=>{var i,n;return{value:e,display:A(l,e),price_adjustment:(null==(i=t.get(l))?void 0:i.get(e))||0,available:(null==(n=a.get(l))?void 0:n.get(e))||!1,is_default:void 0!==s.find(s=>s.is_default&&s.variant_attributes[l]===e)}}).sort((e,s)=>e.is_default&&!s.is_default?-1:!e.is_default&&s.is_default?1:e.price_adjustment-s.price_adjustment)}})},[s]);(0,l.useEffect)(()=>{let e={};g.forEach(s=>{let t=s.values.find(e=>e.is_default);t?e[s.attribute]=t.value:s.values.length>0&&(e[s.attribute]=s.values[0].value)}),u(e)},[g]),(0,l.useEffect)(()=>{if(0===Object.keys(d).length)return;let e=s.find(e=>Object.entries(d).every(s=>{let[t,a]=s;return e.variant_attributes[t]===a})),a=t+((null==e?void 0:e.price_adjustment)||0);x(e||null),h(a),null==i||i(e||null,a)},[d,s,t,i]);let _=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),f=e=>{let s=e.toLowerCase();return s.includes("size")||s.includes("capacity")||s.includes("tonnage")?j.A:s.includes("color")||s.includes("finish")?b.A:s.includes("efficiency")||s.includes("seer")||s.includes("afue")?y.A:s.includes("temperature")||s.includes("temp")?v.A:s.includes("flow")||s.includes("gpm")||s.includes("gallon")?N.A:w.A},C=e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),A=(e,s)=>{let t=e.toLowerCase();return t.includes("color")?s.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):t.includes("size")||t.includes("capacity")?s.includes("Ton")?s:"".concat(s):t.includes("flow")&&!s.includes("GPM")?"".concat(s," GPM"):s};return s.length&&0!==g.length?(0,a.jsx)("div",{className:"space-y-4 ".concat(n),children:(0,a.jsxs)(r.Zp,{children:[(0,a.jsx)(r.aR,{children:(0,a.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(k.A,{className:"w-5 h-5"}),"Product Options"]})}),(0,a.jsxs)(r.Wu,{className:"space-y-6",children:[g.map(e=>{let s=e.icon||w.A;return(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.label})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:e.values.map(s=>{let t=d[e.attribute]===s.value,l=s.available,i=s.price_adjustment;return(0,a.jsxs)(o.$,{variant:t?"default":"outline",size:"sm",disabled:!l,onClick:()=>{var t,a;return t=e.attribute,a=s.value,void u(e=>({...e,[t]:a}))},className:"h-auto p-3 flex flex-col items-center gap-1 ".concat(l?"":"opacity-50 cursor-not-allowed"),children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:s.display}),0!==i&&(0,a.jsxs)("span",{className:"text-xs ".concat(i>0?"text-orange-600":"text-green-600"),children:[i>0?"+":"",_(i)]}),!l&&(0,a.jsx)("span",{className:"text-xs text-red-500",children:"Out of Stock"})]},s.value)})})]},e.attribute)}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S.A,{className:"w-4 h-4 text-blue-500"}),(0,a.jsx)("span",{className:"font-medium",children:"Selected Configuration:"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-600",children:_(p)}),p!==t&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Base: ",_(t),p>t?" + ":" - ",_(Math.abs(p-t))]})]})]}),m&&(0,a.jsxs)("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"SKU:"}),(0,a.jsx)("span",{className:"font-mono",children:m.sku_suffix})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm mt-1",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Stock:"}),(0,a.jsx)(c.E,{variant:m.available_stock>5?"default":"secondary",children:m.available_stock>0?"".concat(m.available_stock," available"):"Out of stock"})]})]})]})]})]})}):null}var A=t(8321);function P(e){let{product:s,offer:t,seller:l,review:i,pageUrl:n}=e;if(!s)return null;let r=[];Array.isArray(s.images)&&r.push(...s.images),s.featuredImage&&r.unshift(s.featuredImage),s.featured_image_url&&r.unshift(s.featured_image_url);let c={"@context":"https://schema.org","@type":"Product",name:s.name,description:s.description||s.long_description||"",brand:s.brand?{"@type":"Brand",name:s.brand}:void 0,model:s.model||s.sku,sku:s.sku,category:s.category||s.category_name,image:r.length?r:void 0,url:n,additionalProperty:s.specifications||s.technical_specs||void 0};return t&&(c.offers={"@type":"Offer",priceCurrency:t.priceCurrency||"USD",price:t.price,availability:"string"==typeof t.availability&&t.availability.startsWith("http")?t.availability:"https://schema.org/".concat(t.availability||"InStock"),priceValidUntil:t.priceValidUntil,seller:l?{"@type":"Organization",name:l.name,telephone:l.telephone,url:l.url}:void 0,url:n}),i&&(c.aggregateRating={"@type":"AggregateRating",ratingValue:i.rating,reviewCount:i.reviewCount,bestRating:i.bestRating||5,worstRating:i.worstRating||1}),(0,a.jsx)(A.default,{id:"product-schema-".concat(s.sku||s.id||"product"),type:"application/ld+json",strategy:"afterInteractive",children:JSON.stringify(c)})}function M(e){var s,t,r,c;let{product:o,businessId:d,businessProfile:u,categories:m,membershipPlans:x}=e,[p,h]=(0,l.useState)((null==(s=o.installation_options)?void 0:s.find(e=>e.is_default))||(null==(t=o.installation_options)?void 0:t[0])||null),[g,_]=(0,l.useState)(1),[j,b]=(0,l.useState)("none"),[y,v]=(0,l.useState)(null),[N,w]=(0,l.useState)(!1),[k,S]=(0,l.useState)(0),[A,M]=(0,l.useState)(null),[R,E]=(0,l.useState)(o.unit_price),[U,O]=(0,l.useState)(!1),{addToCart:q}=(0,n._)(),B=[...o.featured_image_url?[o.featured_image_url]:[],...o.gallery_images||[]].filter(Boolean);(0,l.useEffect)(()=>{p?L():o.requires_professional_install||v({product_unit_price:o.unit_price,installation_base_price:0,quantity:g,product_subtotal:o.unit_price*g,installation_subtotal:0,subtotal_before_discounts:o.unit_price*g,membership_type:j,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:o.unit_price*g,tax_rate:.08,tax_amount:o.unit_price*g*.08,total_amount:o.unit_price*g*1.08,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((o.unit_price*g*1.08).toFixed(2))})},[p,g,j,o.id,o.unit_price,o.requires_professional_install]);let L=async()=>{if(p){w(!0);try{let e=new URLSearchParams({installation_option_id:p.id,quantity:String(g)}),s=await fetch("".concat("https://73d34a85b4db.ngrok-free.app","/api/v1/public/contractors/product-pricing/").concat(d,"/").concat(o.id,"?").concat(e.toString()));if(s.ok){let e=await s.json();v(e)}else{let e=p.base_install_price||0,s=o.unit_price*g,t=e*g,a=s+t,l=.08*a;v({product_unit_price:o.unit_price,installation_base_price:e,quantity:g,product_subtotal:s,installation_subtotal:t,subtotal_before_discounts:a,membership_type:j,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:a,tax_rate:.08,tax_amount:l,total_amount:a+l,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((a+l).toFixed(2))})}}catch(e){console.error("Error calculating pricing:",e)}finally{w(!1)}}},D=async()=>{if(!o.requires_professional_install||p&&y){o.requires_professional_install||y||v({product_unit_price:o.unit_price,installation_base_price:0,quantity:g,product_subtotal:o.unit_price*g,installation_subtotal:0,subtotal_before_discounts:o.unit_price*g,membership_type:j,product_discount_amount:0,installation_discount_amount:0,total_discount_amount:0,bundle_savings:0,subtotal_after_discounts:o.unit_price*g,tax_rate:.08,tax_amount:o.unit_price*g*.08,total_amount:o.unit_price*g*1.08,total_savings:0,savings_percentage:0,formatted_display_price:"$".concat((o.unit_price*g*1.08).toFixed(2))}),O(!0);try{console.log("\uD83D\uDED2 [PRODUCT] Adding to cart:",{product_id:o.id,product_name:o.name,installation_option_id:null==p?void 0:p.id,quantity:g,membership_type:j}),await q({product_id:o.id,installation_option_id:null==p?void 0:p.id,quantity:g,membership_type:j}),console.log("✅ [PRODUCT] Successfully added to cart")}catch(s){console.error("❌ [PRODUCT] Error adding to cart:",s);let e=s instanceof Error?s.message:"Failed to add product to cart";alert("Failed to add product to cart: ".concat(e,"\n\nPlease try again or contact support if the issue persists."))}finally{O(!1)}}},I=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{product:{name:o.name,description:o.description||o.long_description||"",brand:o.brand||"Professional Grade",model:o.sku,sku:o.sku,category:o.category_name||"HVAC Equipment",specifications:o.technical_specs||{},energyRating:o.energy_efficiency_rating,images:o.gallery_images||[],featuredImage:o.featured_image_url,requiresProfessionalInstall:o.requires_professional_install,installationService:p?{name:p.option_name,description:p.description||"Professional installation service",price:p.base_install_price,duration:"".concat(p.estimated_duration_hours," hours"),warranty:p.warranty_years?"".concat(p.warranty_years," years"):"1 year",included:p.included_in_install||[]}:void 0,keywords:[o.name,o.brand||"",o.category_name||"","installation","professional service",(null==u||null==(r=u.service_areas)?void 0:r[0])||"local area"].filter(Boolean),slug:o.slug||o.id},offer:{price:o.unit_price,priceCurrency:"USD",availability:o.is_active&&(o.current_stock||0)>0?"InStock":"OutOfStock",priceValidUntil:new Date(Date.now()+7776e6).toISOString().split("T")[0],warranty:o.warranty_years?"".concat(o.warranty_years," years"):void 0},seller:{name:(null==u?void 0:u.business_name)||"Professional Services",telephone:(null==u?void 0:u.phone)||"",url:window.location.origin,address:{streetAddress:(null==u?void 0:u.address)||"123 Main St",addressLocality:(null==u||null==(c=u.service_areas)?void 0:c[0])||"Austin",addressRegion:"TX",postalCode:"78701"},businessType:"Contractor",licenseNumber:null==u?void 0:u.license_number},review:o.warranty_years?{rating:4.8,reviewCount:25,bestRating:5,worstRating:1}:void 0,pageUrl:window.location.href}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)("nav",{className:"flex mb-8","aria-label":"Breadcrumb",children:(0,a.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:[(0,a.jsx)("li",{className:"inline-flex items-center",children:(0,a.jsx)("a",{href:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,a.jsx)("a",{href:"/products",className:"ml-1 text-gray-500 hover:text-gray-700",children:"Products"})]})}),(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"ml-1 text-gray-500",children:o.name})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4 lg:col-span-5",children:[(0,a.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-lg bg-gray-200",children:B.length>0?(0,a.jsx)("img",{src:B[k],alt:o.name,className:"h-80 w-full object-cover object-center"}):(0,a.jsx)("div",{className:"h-80 w-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-24 w-24 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H3m2 0h4M9 7h6m-6 4h6m-2 4h2"})})})}),B.length>1&&(0,a.jsx)("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:B.map((e,s)=>(0,a.jsx)("button",{onClick:()=>S(s),className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden ".concat(s===k?"ring-2 ring-blue-500":""),children:(0,a.jsx)("img",{src:e,alt:"".concat(o.name," - Image ").concat(s+1),className:"w-full h-full object-cover"})},s))}),o.product_highlights&&o.product_highlights.length>0&&(0,a.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-3",children:"Key Features"}),(0,a.jsx)("ul",{className:"space-y-2",children:o.product_highlights.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-center text-green-800",children:[(0,a.jsx)("svg",{className:"h-4 w-4 text-green-600 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),e]},s))})]})]}),(0,a.jsxs)("div",{className:"space-y-6 lg:col-span-7",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[o.category_name&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:o.category_name}),o.is_featured&&(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Featured"})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("span",{children:["SKU: ",o.sku]}),o.warranty_years&&(0,a.jsxs)("span",{className:"text-green-600",children:[o.warranty_years," Year Warranty"]}),o.energy_efficiency_rating&&(0,a.jsxs)("span",{className:"text-blue-600",children:[o.energy_efficiency_rating," Energy Rating"]})]}),o.description&&(0,a.jsx)("p",{className:"text-gray-700 text-lg leading-relaxed",children:o.description})]}),o.requires_professional_install&&o.installation_options&&o.installation_options.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Installation Options"}),(0,a.jsx)("div",{className:"space-y-3",children:o.installation_options.map(e=>(0,a.jsxs)("label",{className:"relative",children:[(0,a.jsx)("input",{type:"radio",name:"installation",value:e.id,checked:(null==p?void 0:p.id)===e.id,onChange:()=>h(e),className:"sr-only"}),(0,a.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat((null==p?void 0:p.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.option_name}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.estimated_duration_hours&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:["Estimated Duration: ",e.estimated_duration_hours," hours"]})]}),(0,a.jsxs)("div",{className:"text-right ml-4",children:[(0,a.jsx)("div",{className:"font-semibold",children:I(e.base_install_price)}),"none"!==j&&(0,a.jsx)("div",{className:"text-xs text-green-600",children:"Member pricing available"})]})]})})]},e.id))})]}),o.requires_professional_install&&(!o.installation_options||0===o.installation_options.length)&&(0,a.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-yellow-800",children:"Professional Installation Required"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"This product requires professional installation. Please contact us for installation options and pricing."})]})]})}),o.has_variations&&(0,a.jsx)(C,{variants:[],basePrice:o.unit_price,onVariantChange:(e,s)=>{M(e),E(s)}}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Quantity"}),(0,a.jsx)("select",{value:g,onChange:e=>_(parseInt(e.target.value)),className:"w-24 px-2 py-1.5 text-sm border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[1,2,3,4,5,6,7,8,9,10].map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-3 sm:space-y-0",children:[(0,a.jsx)("button",{onClick:D,disabled:N||U||o.requires_professional_install&&!p,className:"w-full sm:flex-1 bg-blue-600 text-white font-medium py-2.5 px-4 text-sm rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:U?"Adding to Cart...":"Add to Cart"}),(0,a.jsxs)("div",{className:"flex space-x-3 w-full sm:flex-1",children:[(0,a.jsx)("a",{href:"tel:".concat(u.phone),className:"flex-1 border border-gray-300 text-gray-700 font-medium py-2.5 px-4 text-sm rounded-md hover:bg-gray-50 transition-colors text-center",children:"Call for Quote"}),(0,a.jsx)(i.U,{className:"flex-1 text-sm py-2.5",children:"Schedule Install"})]})]}),x.length>0&&p&&(0,a.jsx)(f,{productPrice:R,installationPrice:p.base_install_price,membershipPlans:x,selectedMembership:"none"===j?null:j,onMembershipSelect:e=>{b(e||"none")}}),y&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Breakdown"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Product (",g,"x)"]}),(0,a.jsx)("span",{children:I(y.product_subtotal)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Installation"}),(0,a.jsx)("span",{children:I(y.installation_subtotal)})]}),y.total_discount_amount>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Member Discount"}),(0,a.jsxs)("span",{children:["-",I(y.total_discount_amount)]})]}),y.bundle_savings>0&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Bundle Savings"}),(0,a.jsxs)("span",{children:["-",I(y.bundle_savings)]})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Subtotal"}),(0,a.jsx)("span",{children:I(y.subtotal_after_discounts)})]}),y.tax_amount>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Tax"}),(0,a.jsx)("span",{children:I(y.tax_amount)})]}),(0,a.jsx)("hr",{className:"my-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsx)("span",{children:I(y.total_amount)})]}),y.total_savings>0&&(0,a.jsxs)("div",{className:"text-sm text-green-600 text-right",children:["You save ",I(y.total_savings)," (",y.savings_percentage.toFixed(0),"%)"]})]})]}),o.technical_specs&&Object.keys(o.technical_specs).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Technical Specifications"}),(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,a.jsx)("dl",{className:"grid grid-cols-1 gap-2",children:Object.entries(o.technical_specs).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("dt",{className:"text-sm font-medium text-gray-600 capitalize",children:[s.replace(/_/g," "),":"]}),(0,a.jsx)("dd",{className:"text-sm text-gray-900",children:String(t)})]},s)})})})]}),o.long_description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),(0,a.jsx)("div",{className:"prose text-gray-700",children:(0,a.jsx)("p",{children:o.long_description})})]})]})]}),(0,a.jsxs)("div",{className:"mt-16 border-t border-gray-200 pt-16",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"You Might Also Like"}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Explore more professional-grade equipment"}),(0,a.jsxs)("a",{href:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:["Browse All Products",(0,a.jsx)("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})]})]})]})]})}}},e=>{e.O(0,[701,266,760,508,775,441,255,358],()=>e(e.s=1777)),_N_E=e.O()}]);