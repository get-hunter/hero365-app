(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[359],{4995:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>l,_:()=>d});var r=a(5155),s=a(2115),o=a(8291);let c={cart:null,cartSummary:null,isLoading:!1,error:null};function i(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"SET_CART":return{...e,cart:t.payload,error:null,isLoading:!1};case"SET_CART_SUMMARY":return{...e,cartSummary:t.payload};case"CLEAR_CART":return{...e,cart:null,cartSummary:null};default:return e}}let n=(0,s.createContext)(void 0);function l(e){let{children:t,businessId:a}=e,[l,d]=(0,s.useReducer)(i,c),m=(0,o.wE)(),h=()=>localStorage.getItem("cart_id"),p=()=>{localStorage.removeItem("cart_id")},x=async()=>{d({type:"SET_LOADING",payload:!0});try{var e;let t="session_".concat(Date.now()),r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/create?business_id=").concat(a,"&session_id=").concat(t),{method:"POST",headers:(0,o.KZ)()});if(!r.ok){let e=await r.text();throw Error("Failed to create cart: ".concat(r.status," ").concat(e))}let s=await r.json();if(!s||!s.id)throw Error("Invalid cart response: missing cart ID");e=s.id,localStorage.setItem("cart_id",e),d({type:"SET_CART",payload:s});try{await y(s.id)}catch(e){}}catch(t){let e=t instanceof Error?t.message:"Failed to create cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},y=async e=>{try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e,"/summary"),{headers:(0,o.KZ)()});if(t.ok){let e=await t.json();d({type:"SET_CART_SUMMARY",payload:e})}}catch(e){}},u=async()=>{let e=h();if(e){d({type:"SET_LOADING",payload:!0});try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{headers:(0,o.KZ)()});if(!t.ok){if(404===t.status){p(),d({type:"CLEAR_CART"});return}throw Error("Failed to fetch cart: ".concat(t.status," ").concat(t.statusText))}let a=await t.json();a.items&&a.items.length>0&&a.items.forEach((e,t)=>{}),d({type:"SET_CART",payload:a}),await y(e)}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch cart"})}finally{d({type:"SET_LOADING",payload:!1})}}},g=async e=>{let t=h();if(!t)try{if(await x(),!(t=h()))throw Error("Cart creation succeeded but cart ID is still missing from localStorage")}catch(e){throw Error("Failed to create shopping cart: ".concat(e instanceof Error?e.message:"Unknown error"))}d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items?business_id=").concat(a),{method:"POST",headers:(0,o.KZ)(),body:JSON.stringify(e)});if(!r.ok){let e=await r.text();throw Error("Failed to add item to cart: ".concat(r.status," ").concat(e))}await u()}catch(t){let e=t instanceof Error?t.message:"Failed to add item to cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},f=async(e,t)=>{let a=h();if(a){d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(a,"/items/").concat(e),{method:"PUT",headers:(0,o.KZ)(),body:JSON.stringify({quantity:t})});if(!r.ok){let e=await r.text();throw Error("Failed to update cart item: ".concat(r.status," ").concat(e))}await u()}catch(t){let e=t instanceof Error?t.message:"Failed to update cart item";throw d({type:"SET_ERROR",payload:e}),Error(e)}finally{d({type:"SET_LOADING",payload:!1})}}},w=async e=>{let t=h();if(t){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items/").concat(e),{method:"DELETE",headers:(0,o.KZ)()})).ok)throw Error("Failed to remove item from cart");await u()}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to remove item"})}}},b=async()=>{let e=h();if(e){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{method:"DELETE",headers:(0,o.KZ)()})).ok)throw Error("Failed to clear cart");p(),d({type:"CLEAR_CART"})}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to clear cart"})}}};(0,s.useEffect)(()=>{h()&&u()},[a]);let v={cart:l.cart,cartSummary:l.cartSummary,isLoading:l.isLoading,error:l.error,createCart:x,addToCart:g,updateCartItem:f,removeFromCart:w,clearCart:b,refreshCart:u};return(0,r.jsx)(n.Provider,{value:v,children:t})}function d(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5368:(e,t,a)=>{Promise.resolve().then(a.bind(a,8836)),Promise.resolve().then(a.bind(a,9968)),Promise.resolve().then(a.bind(a,4995)),Promise.resolve().then(a.t.bind(a,2619,23))},8836:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var r=a(5155);a(2115);var s=a(7812),o=a(7910),c=a(6485);function i(e){let{servicePricing:t,membershipPlans:a,hasRealData:i=!1}=e,n=e=>{},l=e=>{};return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[!i&&(0,r.jsx)("div",{className:"mb-8 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"h-5 w-5 text-yellow-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L5.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-yellow-800",children:"Database Connection Required"}),(0,r.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Membership plans and pricing data will be loaded from the database once the backend is connected."})]})]})}),(0,r.jsxs)("section",{className:"mb-16",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)(s.E,{className:"bg-blue-100 text-blue-800 text-sm px-4 py-2 mb-4",children:"Lower Prices with Membership"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Membership Plans"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Save money and get priority service with our comprehensive membership plans. Perfect for homeowners and businesses who want peace of mind and exclusive benefits."})]}),a.length>0?(0,r.jsx)(MembershipPlansComparison,{plans:a,onJoinNow:e=>{},showAnnualSavings:!0}):(0,r.jsx)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Membership Plans Coming Soon"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Membership plans will be displayed here once configured in the database."})]})})]}),(0,r.jsxs)("section",{className:"space-y-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Service Pricing"}),(0,r.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Transparent, upfront pricing for all our professional services. Members save up to 25% on all services with additional benefits."})]}),t.length>0?t.map(e=>(0,r.jsx)("div",{className:"mb-12",children:(0,r.jsx)(ServicePricingTable,{services:e.services,category:e.category,showMemberPricing:!0,selectedMembershipType:"residential",onServiceSelect:n,onBookNow:l})},e.category)):(0,r.jsx)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"h-16 w-16 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Service Pricing Coming Soon"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Detailed service pricing will be displayed here once configured in the database."})]})})]}),(0,r.jsxs)("section",{className:"mt-16 bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Additional Information"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 text-blue-600 mr-2"}),"Warranty Coverage"]}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"• Up to 12 Years of HVAC Labor Warranty"}),(0,r.jsx)("li",{children:"• Extended warranty options available"}),(0,r.jsx)("li",{children:"• All work guaranteed"}),(0,r.jsx)("li",{children:"• Parts and labor coverage"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 text-green-600 mr-2"}),"Service Features"]}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsx)("li",{children:"• Same-day service available"}),(0,r.jsx)("li",{children:"• Emergency response 24/7"}),(0,r.jsx)("li",{children:"• Licensed and insured technicians"}),(0,r.jsx)("li",{children:"• Upfront transparent pricing"})]})]})]})]})]})}}},e=>{e.O(0,[96,968,358],()=>e(e.s=5368)),_N_E=e.O()}]);