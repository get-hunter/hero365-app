(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{6637:(e,s,t)=>{"use strict";t.d(s,{default:()=>x});var l=t(5155),a=t(2115),r=t(6651),i=t(6955),n=t(2529),c=t(512),o=t(3457),d=t(2619),u=t.n(d);function x(e){let{products:s,categories:t,businessId:d,hasRealData:x=!1}=e,[m,h]=(0,a.useState)(""),[p,g]=(0,a.useState)("all"),[b,f]=(0,a.useState)("featured"),[j,v]=(0,a.useState)(!1),[N,y]=(0,a.useState)([0,1e4]),[w,_]=(0,a.useState)("none"),[k,C]=(0,a.useState)(!1),L=(0,a.useMemo)(()=>{let e=s.filter(e=>{if(m){var s,t;let l=m.toLowerCase();if(!(e.name.toLowerCase().includes(l)||(null==(s=e.description)?void 0:s.toLowerCase().includes(l))||e.sku.toLowerCase().includes(l)||(null==(t=e.category_name)?void 0:t.toLowerCase().includes(l))))return!1}return("all"===p||e.category_name===p)&&!(e.unit_price<N[0])&&!(e.unit_price>N[1])&&(!k||!!e.requires_professional_install)});return e.sort((e,s)=>{switch(b){case"name":return e.name.localeCompare(s.name);case"price_low":return e.unit_price-s.unit_price;case"price_high":return s.unit_price-e.unit_price;case"featured":if(e.is_featured&&!s.is_featured)return -1;if(!e.is_featured&&s.is_featured)return 1;return e.name.localeCompare(s.name);default:return 0}}),e},[s,m,p,b,N,k]),S=(e,s)=>{if("none"===w)return null;let t="residential"===w?.15:"commercial"===w?.2:.25,l=e.unit_price*t,a=e.unit_price-l;if(!s)return a;let r=s.residential_install_price||s.commercial_install_price||s.premium_install_price||s.base_install_price;return a+(r-r*t)};return(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,l.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)(r.A,{className:"h-5 w-5 text-gray-400"})}),(0,l.jsx)("input",{type:"text",value:m,onChange:e=>h(e.target.value),placeholder:"Search products...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,l.jsxs)("select",{value:p,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"all",children:"All Categories"}),t.map(e=>(0,l.jsxs)("option",{value:e.name,children:[e.name," (",e.product_count,")"]},e.id))]}),(0,l.jsxs)("select",{value:b,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500",children:[(0,l.jsx)("option",{value:"featured",children:"Featured First"}),(0,l.jsx)("option",{value:"name",children:"Name A-Z"}),(0,l.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,l.jsx)("option",{value:"price_high",children:"Price: High to Low"})]}),(0,l.jsxs)("button",{onClick:()=>v(!j),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[(0,l.jsx)(i.A,{className:"h-4 w-4"}),"Filters"]})]})]}),j&&(0,l.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"View Pricing As:"}),(0,l.jsx)("div",{className:"space-y-2",children:[{value:"none",label:"Regular Customer",discount:""},{value:"residential",label:"Residential Member",discount:"15% off"},{value:"commercial",label:"Commercial Member",discount:"20% off"},{value:"premium",label:"Premium Member",discount:"25% off"}].map(e=>(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"radio",name:"membership",value:e.value,checked:w===e.value,onChange:e=>_(e.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,l.jsxs)("span",{className:"ml-2 text-sm text-gray-700",children:[e.label,e.discount&&(0,l.jsxs)("span",{className:"text-green-600 font-medium ml-1",children:["(",e.discount,")"]})]})]},e.value))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Price Range"}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("input",{type:"range",min:"0",max:"10000",step:"100",value:N[1],onChange:e=>y([N[0],parseInt(e.target.value)]),className:"w-full"}),(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,l.jsxs)("span",{children:["$",N[0].toLocaleString()]}),(0,l.jsxs)("span",{children:["$",N[1].toLocaleString()]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Installation Options"}),(0,l.jsxs)("label",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"checkbox",checked:k,onChange:e=>C(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Show only products with installation"})]})]})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsxs)("div",{className:"text-gray-600",children:["Showing ",L.length," of ",s.length," products","all"!==p&&(0,l.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-sm rounded",children:p})]}),"none"!==w&&(0,l.jsx)("div",{className:"text-green-600 font-medium",children:(0,l.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,l.jsx)(n.A,{className:"h-4 w-4"}),"Member pricing active"]})})]}),L.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(e=>{var s,t;let a=(null==(s=e.installation_options)?void 0:s.find(e=>e.is_default))||(null==(t=e.installation_options)?void 0:t[0]),r=S(e,a),i=((e,s)=>{if("none"===w)return 0;let t=S(e,s),l=e.unit_price+((null==s?void 0:s.base_install_price)||0);return t?l-t:0})(e,a);return(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-all duration-200 group",children:(0,l.jsxs)(u(),{href:"/products/".concat(e.slug),className:"block h-full",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-gray-200",children:e.featured_image_url?(0,l.jsx)("img",{src:e.featured_image_url,alt:e.name,className:"h-48 w-full object-cover object-center group-hover:scale-105 transition-transform duration-200"}):(0,l.jsx)("div",{className:"h-48 w-full bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center group-hover:from-blue-200 group-hover:to-blue-300 transition-colors duration-200",children:(0,l.jsx)(c.A,{className:"h-12 w-12 text-blue-400 group-hover:text-blue-500 transition-colors duration-200"})})}),(0,l.jsxs)("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.is_featured&&(0,l.jsx)("span",{className:"px-2 py-1 bg-yellow-500 text-white text-xs font-bold rounded",children:"FEATURED"}),i>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-bold rounded",children:["SAVE $",i.toFixed(0)]})]}),(0,l.jsx)("button",{onClick:e=>e.stopPropagation(),className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-50 transition-colors duration-200 z-10",children:(0,l.jsx)(o.A,{className:"h-4 w-4 text-gray-600 hover:text-red-500 transition-colors duration-200"})})]}),(0,l.jsxs)("div",{className:"p-4 flex-1 flex flex-col",children:[(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-900 overflow-hidden group-hover:text-blue-700 transition-colors duration-200",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.name}),e.brand&&(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.brand})]}),e.description&&(0,l.jsx)("p",{className:"text-xs text-gray-600 mb-3 overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.description}),e.product_highlights.length>0&&(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("ul",{className:"text-xs text-gray-600 space-y-1",children:e.product_highlights.slice(0,2).map((e,s)=>(0,l.jsxs)("li",{className:"flex items-center gap-1",children:[(0,l.jsx)(n.A,{className:"h-3 w-3 text-green-500 flex-shrink-0"}),e]},s))})}),(0,l.jsx)("div",{className:"mb-3",children:(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsxs)("div",{children:[r&&r<e.unit_price+((null==a?void 0:a.base_install_price)||0)?(0,l.jsxs)("div",{className:"space-y-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsxs)("span",{className:"text-sm font-bold text-green-600",children:["$",r.toFixed(0)]}),(0,l.jsxs)("span",{className:"text-xs text-gray-500 line-through",children:["$",(e.unit_price+((null==a?void 0:a.base_install_price)||0)).toFixed(0)]})]}),(0,l.jsxs)("div",{className:"text-xs text-green-600",children:["You save $",i.toFixed(0)]})]}):(0,l.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:["$",e.unit_price.toLocaleString(),a&&(0,l.jsxs)("span",{className:"text-xs text-gray-500 ml-1",children:["+ $",a.base_install_price.toLocaleString()," install"]})]}),e.requires_professional_install&&(0,l.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"Professional installation required"})]})})}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.warranty_years&&(0,l.jsxs)("span",{children:[e.warranty_years," year warranty"]}),e.energy_efficiency_rating&&(0,l.jsx)("span",{className:"text-green-600",children:e.energy_efficiency_rating})]}),e.installation_options&&e.installation_options.length>0&&(0,l.jsxs)("div",{className:"text-xs text-center text-blue-600 mt-auto pt-2 group-hover:text-blue-700 transition-colors duration-200",children:[e.installation_options.length," installation option",e.installation_options.length>1?"s":""," available"]})]})]})},e.id)})}):(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(c.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,l.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search criteria or filters."})]}),!x&&(0,l.jsx)("div",{className:"mt-8 bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:(0,l.jsxs)("div",{className:"flex items-start",children:[(0,l.jsx)("svg",{className:"h-5 w-5 text-yellow-400 mt-0.5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.664-.833-2.464 0L5.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium text-yellow-800",children:"Backend Connection Required"}),(0,l.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"Product catalog and pricing data will be loaded from the backend API once connected. The shopping cart functionality requires the backend service to be running."})]})]})})]})}},6731:(e,s,t)=>{Promise.resolve().then(t.bind(t,6637)),Promise.resolve().then(t.t.bind(t,2619,23))}},e=>{e.O(0,[96,358],()=>e(e.s=6731)),_N_E=e.O()}]);