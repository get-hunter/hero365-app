(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[410],{4995:(e,t,a)=>{"use strict";a.d(t,{CartProvider:()=>o,_:()=>d});var r=a(5155),s=a(2115),i=a(8291);let c={cart:null,cartSummary:null,isLoading:!1,error:null};function n(e,t){switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SET_ERROR":return{...e,error:t.payload,isLoading:!1};case"SET_CART":return{...e,cart:t.payload,error:null,isLoading:!1};case"SET_CART_SUMMARY":return{...e,cartSummary:t.payload};case"CLEAR_CART":return{...e,cart:null,cartSummary:null};default:return e}}let l=(0,s.createContext)(void 0);function o(e){let{children:t,businessId:a}=e,[o,d]=(0,s.useReducer)(n,c),m=(0,i.wE)(),u=()=>localStorage.getItem("cart_id"),h=()=>{localStorage.removeItem("cart_id")},x=async()=>{d({type:"SET_LOADING",payload:!0});try{var e;let t="session_".concat(Date.now()),r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/create?business_id=").concat(a,"&session_id=").concat(t),{method:"POST",headers:(0,i.KZ)()});if(!r.ok){let e=await r.text();throw Error("Failed to create cart: ".concat(r.status," ").concat(e))}let s=await r.json();if(!s||!s.id)throw Error("Invalid cart response: missing cart ID");e=s.id,localStorage.setItem("cart_id",e),d({type:"SET_CART",payload:s});try{await p(s.id)}catch(e){}}catch(t){let e=t instanceof Error?t.message:"Failed to create cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},p=async e=>{try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e,"/summary"),{headers:(0,i.KZ)()});if(t.ok){let e=await t.json();d({type:"SET_CART_SUMMARY",payload:e})}}catch(e){}},y=async()=>{let e=u();if(e){d({type:"SET_LOADING",payload:!0});try{let t=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{headers:(0,i.KZ)()});if(!t.ok){if(404===t.status){h(),d({type:"CLEAR_CART"});return}throw Error("Failed to fetch cart: ".concat(t.status," ").concat(t.statusText))}let a=await t.json();a.items&&a.items.length>0&&a.items.forEach((e,t)=>{}),d({type:"SET_CART",payload:a}),await p(e)}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to fetch cart"})}finally{d({type:"SET_LOADING",payload:!1})}}},f=async e=>{let t=u();if(!t)try{if(await x(),!(t=u()))throw Error("Cart creation succeeded but cart ID is still missing from localStorage")}catch(e){throw Error("Failed to create shopping cart: ".concat(e instanceof Error?e.message:"Unknown error"))}d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items?business_id=").concat(a),{method:"POST",headers:(0,i.KZ)(),body:JSON.stringify(e)});if(!r.ok){let e=await r.text();throw Error("Failed to add item to cart: ".concat(r.status," ").concat(e))}await y()}catch(t){let e=t instanceof Error?t.message:"Failed to add item to cart";throw d({type:"SET_ERROR",payload:e}),Error(e)}},g=async(e,t)=>{let a=u();if(a){d({type:"SET_LOADING",payload:!0});try{let r=await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(a,"/items/").concat(e),{method:"PUT",headers:(0,i.KZ)(),body:JSON.stringify({quantity:t})});if(!r.ok){let e=await r.text();throw Error("Failed to update cart item: ".concat(r.status," ").concat(e))}await y()}catch(t){let e=t instanceof Error?t.message:"Failed to update cart item";throw d({type:"SET_ERROR",payload:e}),Error(e)}finally{d({type:"SET_LOADING",payload:!1})}}},b=async e=>{let t=u();if(t){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(t,"/items/").concat(e),{method:"DELETE",headers:(0,i.KZ)()})).ok)throw Error("Failed to remove item from cart");await y()}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to remove item"})}}},v=async()=>{let e=u();if(e){d({type:"SET_LOADING",payload:!0});try{if(!(await fetch("".concat(m,"/api/v1/public/contractors/shopping-cart/").concat(e),{method:"DELETE",headers:(0,i.KZ)()})).ok)throw Error("Failed to clear cart");h(),d({type:"CLEAR_CART"})}catch(e){d({type:"SET_ERROR",payload:e instanceof Error?e.message:"Failed to clear cart"})}}};(0,s.useEffect)(()=>{u()&&y()},[a]);let j={cart:o.cart,cartSummary:o.cartSummary,isLoading:o.isLoading,error:o.error,createCart:x,addToCart:f,updateCartItem:g,removeFromCart:b,clearCart:v,refreshCart:y};return(0,r.jsx)(l.Provider,{value:j,children:t})}function d(){let e=(0,s.useContext)(l);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},5125:(e,t,a)=>{"use strict";a.d(t,{CheckoutSuccessClient:()=>l});var r=a(5155),s=a(2115),i=a(63),c=a(2619),n=a.n(c);function l(e){let t,{businessProfile:a}=e,c=(0,i.useSearchParams)(),[l,o]=(0,s.useState)({estimateNumber:"",bookingNumber:"",totalAmount:0});return(0,s.useEffect)(()=>{let e=c.get("estimate"),t=c.get("booking"),a=c.get("total");e&&t&&a&&o({estimateNumber:e,bookingNumber:t,totalAmount:parseFloat(a)})},[c]),(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 py-16",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-green-600 px-8 py-12 text-center text-white",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Order Confirmed!"}),(0,r.jsx)("p",{className:"text-xl opacity-90",children:"Your installation has been scheduled successfully"})]}),(0,r.jsxs)("div",{className:"px-8 py-8",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estimate Number"}),(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:l.estimateNumber})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Booking Number"}),(0,r.jsx)("div",{className:"text-lg font-bold text-gray-900",children:l.bookingNumber})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-500 mb-1",children:"Total Amount"}),(0,r.jsx)("div",{className:"text-lg font-bold text-green-600",children:(t=l.totalAmount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(t))})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"What Happens Next?"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"1"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Order Confirmation"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"You'll receive an email confirmation with your order details and estimate."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"2"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Installation Scheduling"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Our team will contact you within 24 hours to confirm your installation appointment."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"3"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Professional Installation"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Our certified technicians will arrive on schedule to complete your installation."})]})]}),(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:(0,r.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"4"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Payment & Completion"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Payment is due upon completion and your satisfaction with the installation."})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"Need Help or Have Questions?"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-blue-700 font-medium",children:a.business_name}),(0,r.jsxs)("div",{className:"text-blue-600",children:["Phone: ",a.phone]}),(0,r.jsxs)("div",{className:"text-blue-600",children:["Email: ",a.email]})]}),(0,r.jsxs)("div",{className:"text-blue-700",children:[(0,r.jsx)("div",{className:"font-medium mb-1",children:"Business Hours:"}),(0,r.jsx)("div",{children:"Monday - Friday: 8:00 AM - 6:00 PM"}),(0,r.jsx)("div",{children:"Saturday: 9:00 AM - 4:00 PM"}),(0,r.jsx)("div",{children:"Sunday: Emergency calls only"})]})]})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-green-900 mb-3",children:"\uD83D\uDEE1️ Warranty & Support"}),(0,r.jsxs)("div",{className:"text-sm text-green-700 space-y-2",children:[(0,r.jsx)("p",{children:"• All installations come with our standard workmanship warranty"}),(0,r.jsx)("p",{children:"• Product warranties are provided by the manufacturer"}),(0,r.jsx)("p",{children:"• We offer ongoing maintenance and support services"}),(0,r.jsx)("p",{children:"• Contact us anytime for warranty claims or support needs"})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsxs)(n(),{href:"/",className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L9 5.414V17a1 1 0 102 0V5.414l5.293 5.293a1 1 0 001.414-1.414l-7-7z"})}),"Return to Homepage"]}),(0,r.jsxs)(n(),{href:"/products",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})}),"Shop More Products"]})]})]})]})})})}},5151:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var r=a(5155);a(2115);var s=a(4995),i=a(9968);function c(e){let{businessId:t,services:a,companyName:c,companyPhone:n,companyEmail:l,children:o}=e;return(0,r.jsx)(s.CartProvider,{businessId:t,children:(0,r.jsx)(i.Hero365BookingProvider,{businessId:t,services:a,companyName:c,companyPhone:n,companyEmail:l,children:o})})}},5318:(e,t,a)=>{Promise.resolve().then(a.bind(a,5125)),Promise.resolve().then(a.bind(a,5151)),Promise.resolve().then(a.t.bind(a,2619,23))}},e=>{e.O(0,[96,968,358],()=>e(e.s=5318)),_N_E=e.O()}]);