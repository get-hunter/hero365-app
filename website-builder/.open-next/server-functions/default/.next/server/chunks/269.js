"use strict";exports.id=269,exports.ids=[269,8700],exports.modules={36397:(a,b,c)=>{c.d(b,{uj:()=>h});var d=c(86802),e=c(68700);let f=new Map;async function g(a){let b=(await (0,e.getRuntimeConfig)()).apiUrl,c=`${b}/api/v1/public/websites/resolve?host=${encodeURIComponent(a)}`;for(let a=1;a<=2;a++)try{let a=new AbortController,b=setTimeout(()=>a.abort(),6e3),d=await fetch(c,{headers:{Accept:"application/json","User-Agent":"Hero365-Website/1.0","ngrok-skip-browser-warning":"true"},signal:a.signal});if(clearTimeout(b),!d.ok){await d.text().catch(()=>"");continue}let e=await d.json(),f=e.business_id||e.businessId||e.id;if(f)return f}catch(a){}return null}async function h(){let a=(0,d.b3)().get("host")||"localhost:3000",b=a.toLowerCase(),c=await (0,e.getRuntimeConfig)();if("development"===c.environment){if(!c.businessId)throw Error("NEXT_PUBLIC_BUSINESS_ID required for development");return{businessId:c.businessId,subdomain:"localhost",hostname:a,isCustomDomain:!1}}let{subdomain:h,isCustomDomain:i}=a.endsWith(".tradesites.app")?{subdomain:a.replace(".tradesites.app",""),isCustomDomain:!1}:{subdomain:a,isCustomDomain:!0};if("staging"===c.environment&&c.businessId)return{businessId:c.businessId,subdomain:h,hostname:a,isCustomDomain:i};let j=f.get(b);if(j&&j.expiresAt>Date.now())return{businessId:j.businessId,subdomain:h,hostname:a,isCustomDomain:i};let k=await g(a);if(k)return f.set(b,{businessId:k,expiresAt:Date.now()+3e5}),{businessId:k,subdomain:h,hostname:a,isCustomDomain:i};throw Error(`Unable to resolve business for hostname: ${a}`)}},50269:(a,b,c)=>{c.d(b,{aS:()=>f});var d=c(77873);c(36397);let e=new Map;async function f(a){try{let b=e.get(a);if(b&&Date.now()-b.timestamp<3e5)return b.data;let c=(0,d.wE)(),f=await fetch(`${c}/api/v1/public/contractors/website/context/${a}?include_templates=true&include_trades=true`,{headers:(0,d.KZ)(),next:{revalidate:300,tags:["business-context",a]}});if(!f.ok)return null;let g=await f.json(),h=function(a){if(!a?.business?.name)throw Error("Business name missing in website context response");return{business:{id:a.business?.id||"",name:a.business?.name,description:a.business?.description||"",phone:a.business?.phone||"",email:a.business?.email||"",address:a.business?.address||"",city:a.business?.city||"",state:a.business?.state||"",postal_code:a.business?.postal_code||"",website:a.business?.website||"",primary_trade:a.business?.primary_trade||"",selected_activities:a.business?.selected_activities||[],market_focus:a.business?.market_focus||"both",years_in_business:a.business?.years_in_business||0,company_values:a.business?.company_values||[],awards_certifications:a.business?.awards_certifications||[],unique_selling_points:a.business?.unique_selling_points||[]},trade_profile:{primary_trade:a.business?.primary_trade||"",selected_activities:a.business?.selected_activities||[],market_focus:a.business?.market_focus||"both",emergency_services:!0,commercial_focus:a.business?.market_focus==="commercial"||a.business?.market_focus==="both",residential_focus:a.business?.market_focus==="residential"||a.business?.market_focus==="both"},activities:(a.activities||[]).map(a=>({slug:a.slug,name:a.name,trade_slug:a.trade_slug,trade_name:a.trade_name||"",synonyms:a.synonyms||[],tags:a.tags||[],is_featured:a.is_featured||!1,is_emergency:a.tags?.includes("emergency")||!1,booking_frequency:a.booking_frequency||0,default_booking_fields:a.default_booking_fields||[],required_booking_fields:a.required_booking_fields||[]})),technicians:(a.technicians||[]).map(a=>({id:a.id,name:a.name,title:a.title||"Technician",years_experience:a.years_experience||0,certifications:a.certifications||[],specializations:a.specializations||[],bio:a.bio||null,completed_jobs:a.completed_jobs||0,average_rating:a.average_rating||4.8,is_public_profile:!1!==a.is_public_profile,photo_url:a.photo_url||null})),combined_experience_years:(a.technicians||[]).reduce((a,b)=>a+(b.years_experience||0),0),total_certifications:Array.from(new Set((a.technicians||[]).flatMap(a=>a.certifications||[]))),service_areas:(a.service_areas||[]).map(a=>({name:a.name,slug:a.slug,city:a.city,state:a.state,coverage_radius_miles:a.coverage_radius_miles||25,response_time_hours:a.response_time_hours||2,is_primary:a.is_primary||!1,local_regulations:a.local_regulations||[],common_issues:a.common_issues||[],seasonal_factors:a.seasonal_factors||[]})),primary_area:(a.service_areas||[]).find(a=>a.is_primary)||(a.service_areas||[])[0]||{name:`${a.business?.city||"Local"}, ${a.business?.state||"Area"}`,slug:"primary",city:a.business?.city||"",state:a.business?.state||"",coverage_radius_miles:25,response_time_hours:2,is_primary:!0,local_regulations:[],common_issues:[],seasonal_factors:[]},projects:(a.projects||[]).map(a=>({id:a.id,title:a.title,description:a.description||"",category:a.category||"service",location:a.location||"Service Area",initial_problem:a.initial_problem||"Customer service need",solution_implemented:a.solution_implemented||a.description||"",outcome:a.outcome||"Successful completion",duration:a.duration||"1 day",value:a.value||0,customer_savings:a.customer_savings||null,efficiency_improvement:a.efficiency_improvement||null,technician_id:a.technician_id||"",technician_name:a.technician_name||"Professional Team",technician_certifications:a.technician_certifications||[],images:a.images||[],customer_feedback:a.customer_feedback||null,slug:a.slug||a.title?.toLowerCase().replace(/\s+/g,"-")||""})),showcase_projects:(a.projects||[]).sort((a,b)=>(b.value||0)-(a.value||0)).slice(0,6).map(a=>({id:a.id,title:a.title,description:a.description||"",category:a.category||"service",location:a.location||"Service Area",initial_problem:a.initial_problem||"Customer service need",solution_implemented:a.solution_implemented||a.description||"",outcome:a.outcome||"Successful completion",duration:a.duration||"1 day",value:a.value||0,customer_savings:a.customer_savings||null,efficiency_improvement:a.efficiency_improvement||null,technician_id:a.technician_id||"",technician_name:a.technician_name||"Professional Team",technician_certifications:a.technician_certifications||[],images:a.images||[],customer_feedback:a.customer_feedback||null,slug:a.slug||a.title?.toLowerCase().replace(/\s+/g,"-")||""})),completed_count:(a.projects||[]).length,average_project_value:(a.projects||[]).length>0?(a.projects||[]).reduce((a,b)=>a+(b.value||0),0)/(a.projects||[]).length:0,testimonials:a.testimonials||[],total_served:a.total_served||(a.projects||[]).length,average_rating:a.average_rating||4.8,repeat_customer_rate:a.repeat_customer_rate||.3,market_insights:a.market_insights||{},competitive_advantages:a.competitive_advantages||["Local expertise","Fast response times","Quality workmanship"],generated_at:new Date().toISOString(),cache_key:`business_context:${a.business?.id||""}`}}(g);return e.set(a,{data:h,timestamp:Date.now()}),h}catch(a){return null}}},68700:(a,b,c)=>{c.d(b,{getRuntimeConfig:()=>d});async function d(){let a=function(){if("staging"===process.env.NEXT_PUBLIC_ENVIRONMENT||"production"===process.env.NEXT_PUBLIC_ENVIRONMENT){let a=process.env.NEXT_PUBLIC_ENVIRONMENT;return{isLocalhost:!1,isNgrokTunnel:"staging"===a,isProduction:"production"===a,hostname:"cloudflare-worker"}}return{isLocalhost:!0,isNgrokTunnel:!1,isProduction:!1,hostname:"localhost"}}();return{apiUrl:function(a){if(a.isLocalhost)return"http://localhost:8000";if(a.isNgrokTunnel){if("undefined"!=typeof process){let a="http://localhost:8000";if(!a.includes("localhost"))return a}return"https://5ab8f8ec32f1.ngrok-free.app"}return a.isProduction?"https://api.hero365.ai":"http://localhost:8000"}(a),environment:a.isLocalhost?"development":a.isNgrokTunnel?"staging":"production",businessId:function(a){if(a.isLocalhost){let a="550e8400-e29b-41d4-a716-446655440010";if(!a)throw Error("NEXT_PUBLIC_BUSINESS_ID is required for localhost development");return a}if(a.isNgrokTunnel)return"550e8400-e29b-41d4-a716-446655440010"}(a)}}},77873:(a,b,c)=>{function d(){return"undefined"!=typeof process&&process.env.NEXT_PUBLIC_ENVIRONMENT?process.env.NEXT_PUBLIC_ENVIRONMENT:"production"}function e(a){if("undefined"!=typeof process){if(process.env.NEXT_PUBLIC_STAGING_API_URL&&"staging"===a)return process.env.NEXT_PUBLIC_STAGING_API_URL;if(process.env.NEXT_PUBLIC_PRODUCTION_API_URL&&"production"===a)return process.env.NEXT_PUBLIC_PRODUCTION_API_URL}switch(a){case"development":default:return"http://localhost:8000";case"staging":return"https://5ab8f8ec32f1.ngrok-free.app";case"production":return"https://api.hero365.ai"}}c.d(b,{KZ:()=>j,f2:()=>h,wE:()=>i});let f=null;function g(){return f||(f=function(){let a=d(),b=e(a);return{api:{baseUrl:b.includes("/api/v1")?b:`${b}/api/v1`,apiVersion:"v1",timeout:"development"===a?3e4:15e3,retries:"development"===a?1:3,environment:a},features:{analytics:!1,voiceAgent:"true"===process.env.NEXT_PUBLIC_VOICE_AGENT_ENABLED,bookingWidget:"false"!==process.env.NEXT_PUBLIC_BOOKING_WIDGET_ENABLED,errorReporting:"production"===a},business:{defaultBusinessId:(()=>{let b="550e8400-e29b-41d4-a716-446655440010";if("development"===a&&!b)throw Error("NEXT_PUBLIC_BUSINESS_ID is required in development");return b})(),defaultBusinessName:"Elite HVAC Austin",defaultBusinessPhone:"(512) 555-0100",defaultBusinessEmail:"info@elitehvac.com"}}}()),f}function h(){if("undefined"!=typeof process){let a="550e8400-e29b-41d4-a716-446655440010";if(a)return{defaultBusinessId:a,defaultBusinessName:"Elite HVAC Austin",defaultBusinessPhone:"(512) 555-0100",defaultBusinessEmail:"info@elitehvac.com"}}return g().business}function i(){return e(d())}function j(){let a={"Content-Type":"application/json"};return"development"===g().api.environment&&(a["X-Environment"]="development"),a["X-API-Version"]=g().api.apiVersion,g().api.baseUrl.includes("ngrok")&&(a["ngrok-skip-browser-warning"]="true"),a}}};