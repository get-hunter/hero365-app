{"openapi": "3.1.0", "info": {"title": "Hero365", "description": "Hero365 App - the AI-native business management platform for home service businesses", "version": "2.0.0"}, "paths": {"/api/v1/auth/signup": {"post": {"tags": ["auth"], "summary": "Sign Up", "description": "Sign up with email and password using Supabase Auth", "operationId": "auth-sign_up", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignUpRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/signup/phone": {"post": {"tags": ["auth"], "summary": "Sign Up With Phone", "description": "Sign up with phone number using Supabase Auth", "operationId": "auth-sign_up_with_phone", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PhoneSignUpRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/signin": {"post": {"tags": ["auth"], "summary": "Sign In", "description": "Sign in with email and password using Supabase Auth\nNote: This endpoint is mainly for documentation. \nFrontend should use Supabase client directly for sign in.", "operationId": "auth-sign_in", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SignInRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Auth-Sign In"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/signin/phone": {"post": {"tags": ["auth"], "summary": "Sign In With Phone", "description": "Sign in with phone number and password using Supabase Auth", "operationId": "auth-sign_in_with_phone", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/PhoneSignInRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Auth-Sign In With Phone"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/otp/send": {"post": {"tags": ["auth"], "summary": "Send Otp", "description": "Send OTP to phone number for passwordless authentication", "operationId": "auth-send_otp", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SendOTPRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/otp/verify": {"post": {"tags": ["auth"], "summary": "Verify Otp", "description": "Verify OTP for phone number authentication", "operationId": "auth-verify_otp", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/OTPVerificationRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Auth-Verify Otp"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/oauth/{provider}": {"get": {"tags": ["auth"], "summary": "Oauth Login", "description": "OAuth login endpoint - returns redirect URL for OAuth flow", "operationId": "auth-oauth_login", "parameters": [{"name": "provider", "in": "path", "required": true, "schema": {"type": "string", "title": "Provider"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Auth-Oauth Login"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/signout": {"post": {"tags": ["auth"], "summary": "Sign Out", "description": "Sign out endpoint - client should handle token cleanup", "operationId": "auth-sign_out", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}}}}, "/api/v1/auth/refresh": {"post": {"tags": ["auth"], "summary": "Refresh Token", "description": "Refresh access token using refresh token", "operationId": "auth-refresh_token", "parameters": [{"name": "refresh_token", "in": "query", "required": true, "schema": {"type": "string", "title": "Refresh Token"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Auth-Refresh Token"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/password-recovery": {"post": {"tags": ["auth"], "summary": "Password Recovery", "description": "Request password recovery email", "operationId": "auth-password_recovery", "parameters": [{"name": "email", "in": "query", "required": true, "schema": {"type": "string", "format": "email", "title": "Email"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/apple/signin": {"post": {"tags": ["auth"], "summary": "Apple Sign In", "description": "Handle Apple Sign-In using ID token from iOS app", "operationId": "auth-apple_sign_in", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/AppleSignInRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OAuthSignInResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/auth/google/signin": {"post": {"tags": ["auth"], "summary": "Google Sign In", "description": "Handle Google Sign-In using ID token from iOS app", "operationId": "auth-google_sign_in", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/GoogleSignInRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/OAuthSignInResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/utils/test-email/": {"post": {"tags": ["utils"], "summary": "Test Email", "description": "Test emails.", "operationId": "utils-test_email", "security": [{"Authorization": []}], "parameters": [{"name": "email_to", "in": "query", "required": true, "schema": {"type": "string", "format": "email", "title": "Email To"}}], "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/users/me": {"get": {"tags": ["users"], "summary": "Get Current User Profile", "description": "Get current user profile with simplified onboarding status.\n\nOnboarding completion is determined solely by business membership:\n- User has active business membership = onboarding complete\n- User has no active business membership = needs onboarding\n\nThis handles both cases:\n1. User creates business during onboarding (becomes owner)\n2. User joins existing business (becomes member)", "operationId": "users-get_current_user_profile", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UserProfileResponse"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/businesses/debug": {"get": {"tags": ["businesses"], "summary": "Debug Endpoint", "description": "Debug endpoint to test if business routes are working.", "operationId": "businesses-debug_endpoint", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}, "/api/v1/businesses": {"post": {"tags": ["businesses"], "summary": "Create Business", "description": "Create a new business.\n\nCreates a new business with the current user as the owner.\nAutomatically creates an owner membership for the user.", "operationId": "businesses-create_business", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessCreateRequest"}}}, "required": true}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/businesses/me": {"get": {"tags": ["businesses"], "summary": "Get My Businesses", "description": "Get all businesses for the current user.\n\nReturns businesses where the user is a member (owner, admin, employee, etc.)\nwith their membership information and business summaries.", "operationId": "businesses-get_my_businesses", "security": [{"Authorization": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of businesses to skip", "default": 0, "title": "Skip"}, "description": "Number of businesses to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "description": "Maximum number of businesses to return", "default": 10, "title": "Limit"}, "description": "Maximum number of businesses to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/UserBusinessSummaryResponse"}, "title": "Response Businesses-Get My Businesses"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/{business_id}/invite": {"post": {"tags": ["businesses"], "summary": "Invite Team Member", "description": "Invite a team member to join a business.\n\nSends an invitation to the specified email or phone number.\nRequires the user to have team:invite permission for the business.", "operationId": "businesses-invite_team_member", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessInvitationCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessInvitationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/invitations/accept": {"post": {"tags": ["businesses"], "summary": "Accept Invitation", "description": "Accept a business invitation.\n\nAccepts a pending invitation and creates a business membership for the user.\nThe invitation must be valid and not expired.", "operationId": "businesses-accept_invitation", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessInvitationAcceptRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessMembershipResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/businesses/{business_id}": {"get": {"tags": ["businesses"], "summary": "Get Business Detail", "description": "Get detailed business information.\n\nReturns comprehensive business information including team members,\nstatistics, and user's role within the business.", "operationId": "businesses-get_business_detail", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessDetailResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["businesses"], "summary": "Update Business", "description": "Update business information.\n\nAllows business owners and admins with proper permissions\nto update business details.", "operationId": "businesses-update_business", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/{business_id}/members": {"get": {"tags": ["businesses"], "summary": "Get Business Members", "description": "Get business team members.\n\nReturns a list of all active team members for the business.", "operationId": "businesses-get_business_members", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of members to skip", "default": 0, "title": "Skip"}, "description": "Number of members to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "description": "Maximum number of members to return", "default": 10, "title": "Limit"}, "description": "Maximum number of members to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BusinessMembershipResponse"}, "title": "Response Businesses-Get Business Members"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/{business_id}/members/{membership_id}": {"put": {"tags": ["businesses"], "summary": "Update Member Role", "description": "Update team member role and permissions.\n\nAllows business owners and admins to update team member\nroles, permissions, and other membership details.", "operationId": "businesses-update_member_role", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}, {"name": "membership_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Membership Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessMembershipUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessMembershipResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["businesses"], "summary": "Remove Team Member", "description": "Remove a team member from the business.\n\nDeactivates the team member's access to the business.\nBusiness owners cannot remove themselves.", "operationId": "businesses-remove_team_member", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}, {"name": "membership_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Membership Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/{business_id}/invitations": {"get": {"tags": ["businesses"], "summary": "Get Business Invitations", "description": "Get business invitations.\n\nReturns all invitations sent for the business.\nRequires appropriate permissions to view invitations.", "operationId": "businesses-get_business_invitations", "security": [{"Authorization": []}], "parameters": [{"name": "business_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Business Id"}}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of invitations to skip", "default": 0, "title": "Skip"}, "description": "Number of invitations to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "description": "Maximum number of invitations to return", "default": 10, "title": "Limit"}, "description": "Maximum number of invitations to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "array", "items": {"$ref": "#/components/schemas/BusinessInvitationResponse"}, "title": "Response Businesses-Get Business Invitations"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/invitations/{invitation_id}": {"delete": {"tags": ["businesses"], "summary": "Cancel Invitation", "description": "Cancel a pending invitation.\n\nAllows business owners, admins, or the invitation sender\nto cancel a pending invitation.", "operationId": "businesses-cancel_invitation", "security": [{"Authorization": []}], "parameters": [{"name": "invitation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invitation Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/businesses/invitations/{invitation_id}/decline": {"post": {"tags": ["businesses"], "summary": "Decline Invitation", "description": "Decline a business invitation.\n\nAllows the invitation recipient to decline a pending invitation.", "operationId": "businesses-decline_invitation", "security": [{"Authorization": []}], "parameters": [{"name": "invitation_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Invitation Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Message"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/": {"post": {"tags": ["contacts", "contacts"], "summary": "Create Contact", "description": "Create a new contact.\n\nCreates a new contact for the current business with the provided information.\nRequires 'edit_contacts' permission.", "operationId": "contacts-create_contact", "security": [{"Authorization": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["contacts", "contacts"], "summary": "List Contacts", "description": "List contacts for the business.\n\nRetrieves a paginated list of contacts for the current business.\nRequires 'view_contacts' permission.", "operationId": "contacts-list_contacts", "security": [{"Authorization": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of records to skip", "default": 0, "title": "Skip"}, "description": "Number of records to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "description": "Maximum number of records to return", "default": 100, "title": "Limit"}, "description": "Maximum number of records to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/{contact_id}": {"get": {"tags": ["contacts", "contacts"], "summary": "Get Contact", "description": "Get a contact by ID.\n\nRetrieves detailed information about a specific contact.\nRequires 'view_contacts' permission.", "operationId": "contacts-get_contact", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["contacts", "contacts"], "summary": "Update Contact", "description": "Update a contact.\n\nUpdates an existing contact with the provided information.\nRequires 'edit_contacts' permission.", "operationId": "contacts-update_contact", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["contacts", "contacts"], "summary": "Delete Contact", "description": "Delete a contact.\n\nPermanently deletes a contact and all associated data.\nRequires 'delete_contacts' permission.", "operationId": "contacts-delete_contact", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MessageResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/search": {"post": {"tags": ["contacts", "contacts"], "summary": "Search Contacts", "description": "Search contacts with advanced filtering.\n\nPerforms advanced search and filtering on contacts.\nRequires 'view_contacts' permission.", "operationId": "contacts-search_contacts", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactSearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/contacts/bulk-update": {"post": {"tags": ["contacts", "contacts"], "summary": "Bulk Update Contacts", "description": "Perform bulk updates on multiple contacts.\n\nUpdates multiple contacts with the same changes.\nRequires 'edit_contacts' permission.", "operationId": "contacts-bulk_update_contacts", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactBulkUpdateRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactBulkOperationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/contacts/{contact_id}/convert": {"post": {"tags": ["contacts", "contacts"], "summary": "Convert Contact Type", "description": "Convert a contact from one type to another.\n\nChanges the contact type (e.g., lead to customer) with business rule validation.\nRequires 'edit_contacts' permission.", "operationId": "contacts-convert_contact_type", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactConversionRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/assign": {"post": {"tags": ["contacts", "contacts"], "summary": "Assign Contacts", "description": "Assign multiple contacts to a user.\n\nAssigns or unassigns multiple contacts to/from a team member.\nRequires 'edit_contacts' permission.", "operationId": "contacts-assign_contacts", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactAssignmentRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactBulkOperationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/contacts/tags": {"post": {"tags": ["contacts", "contacts"], "summary": "Manage Contact Tags", "description": "Add, remove, or replace tags on multiple contacts.\n\nPerforms tag operations on multiple contacts.\nRequires 'edit_contacts' permission.", "operationId": "contacts-manage_contact_tags", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactTagOperationRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactBulkOperationResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/contacts/{contact_id}/mark-contacted": {"post": {"tags": ["contacts", "contacts"], "summary": "Mark Contact Contacted", "description": "Mark a contact as contacted.\n\nUpdates the last_contacted timestamp for the contact.\nRequires 'edit_contacts' permission.", "operationId": "contacts-mark_contact_contacted", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/statistics/overview": {"get": {"tags": ["contacts", "contacts"], "summary": "Get Contact Statistics", "description": "Get comprehensive contact statistics.\n\nRetrieves detailed statistics about contacts for the business.\nRequires 'view_contacts' permission.", "operationId": "contacts-get_contact_statistics", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactStatisticsResponse"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/contacts/{contact_id}/interactions": {"post": {"tags": ["contacts", "contacts"], "summary": "Add Contact Interaction", "description": "Add an interaction record to a contact.\n\nCreates a new interaction record for the specified contact.\nRequires 'edit_contacts' permission.", "operationId": "contacts-add_contact_interaction", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactInteractionCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactInteractionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["contacts", "contacts"], "summary": "Get Contact Interactions", "description": "Get interaction history for a contact.\n\nRetrieves paginated list of interactions for the specified contact.\nRequires 'view_contacts' permission.", "operationId": "contacts-get_contact_interactions", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}, {"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of records to skip", "default": 0, "title": "Skip"}, "description": "Number of records to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 100, "minimum": 1, "description": "Maximum number of records to return", "default": 50, "title": "Limit"}, "description": "Maximum number of records to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactInteractionListResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/contacts/{contact_id}/status": {"put": {"tags": ["contacts", "contacts"], "summary": "Update Contact Status", "description": "Update contact relationship status and lifecycle stage.\n\nUpdates the relationship status and optionally the lifecycle stage for the specified contact.\nAutomatically tracks status change history.\nRequires 'edit_contacts' permission.", "operationId": "contacts-update_contact_status", "security": [{"Authorization": []}], "parameters": [{"name": "contact_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "description": "Contact ID", "title": "Contact Id"}, "description": "Contact ID"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactStatusUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/ContactStatusUpdateResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/": {"post": {"tags": ["jobs", "Jobs"], "summary": "Create a new job", "description": "Create a new job with the provided details. Job number will be auto-generated if not provided.", "operationId": "jobs-create_job", "security": [{"Authorization": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobCreateRequest"}}}}, "responses": {"201": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "get": {"tags": ["jobs", "Jobs"], "summary": "List jobs", "description": "Get a paginated list of jobs for the current business.", "operationId": "jobs-list_jobs", "security": [{"Authorization": []}], "parameters": [{"name": "skip", "in": "query", "required": false, "schema": {"type": "integer", "minimum": 0, "description": "Number of jobs to skip", "default": 0, "title": "Skip"}, "description": "Number of jobs to skip"}, {"name": "limit", "in": "query", "required": false, "schema": {"type": "integer", "maximum": 1000, "minimum": 1, "description": "Number of jobs to return", "default": 100, "title": "Limit"}, "description": "Number of jobs to return"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobListPaginatedResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/{job_id}": {"get": {"tags": ["jobs", "Jobs"], "summary": "Get job by ID", "description": "Retrieve a specific job by its ID.", "operationId": "jobs-get_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "put": {"tags": ["jobs", "Jobs"], "summary": "Update job", "description": "Update an existing job with the provided details.", "operationId": "jobs-update_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}, "delete": {"tags": ["jobs", "Jobs"], "summary": "Delete job", "description": "Delete a job. Cannot delete completed or invoiced jobs.", "operationId": "jobs-delete_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobActionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/search": {"post": {"tags": ["jobs", "Jobs"], "summary": "Search jobs", "description": "Search jobs with various filters and criteria.", "operationId": "jobs-search_jobs", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobSearchRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobListPaginatedResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/jobs/{job_id}/status": {"patch": {"tags": ["jobs", "Jobs"], "summary": "Update job status", "description": "Update the status of a job with optional notes.", "operationId": "jobs-update_job_status", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobStatusUpdateRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/{job_id}/assign": {"patch": {"tags": ["jobs", "Jobs"], "summary": "Assign job to users", "description": "Assign a job to one or more users.", "operationId": "jobs-assign_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobAssignmentRequest"}}}}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/bulk-update": {"post": {"tags": ["jobs", "Jobs"], "summary": "Bulk update jobs", "description": "Update multiple jobs at once with the same changes.", "operationId": "jobs-bulk_update_jobs", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobBulkUpdateRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobBulkActionResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/jobs/statistics": {"get": {"tags": ["jobs", "Jobs"], "summary": "Get job statistics", "description": "Get comprehensive job statistics for the current business.", "operationId": "jobs-get_job_statistics", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobStatisticsResponse"}}}}}, "security": [{"Authorization": []}]}}, "/api/v1/jobs/workload/{user_id}": {"get": {"tags": ["jobs", "Jobs"], "summary": "Get user workload", "description": "Get workload statistics for a specific user.", "operationId": "jobs-get_user_workload", "security": [{"Authorization": []}], "parameters": [{"name": "target_user_id", "in": "query", "required": true, "schema": {"type": "string", "title": "Target User Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobWorkloadResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/schedule/daily": {"get": {"tags": ["jobs", "Jobs"], "summary": "Get daily schedule", "description": "Get jobs scheduled for a specific day.", "operationId": "jobs-get_daily_schedule", "security": [{"Authorization": []}], "parameters": [{"name": "date", "in": "query", "required": true, "schema": {"type": "string", "format": "date-time", "description": "Date to get schedule for", "title": "Date"}, "description": "Date to get schedule for"}, {"name": "user_id", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Filter by specific user", "title": "User Id"}, "description": "Filter by specific user"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobScheduleResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/{job_id}/start": {"post": {"tags": ["jobs", "Jobs"], "summary": "Start job", "description": "Start a job (convenience endpoint for status update to in_progress).", "operationId": "jobs-start_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/{job_id}/complete": {"post": {"tags": ["jobs", "Jobs"], "summary": "Complete job", "description": "Complete a job with optional completion notes.", "operationId": "jobs-complete_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}, {"name": "completion_notes", "in": "query", "required": false, "schema": {"anyOf": [{"type": "string"}, {"type": "null"}], "description": "Notes about job completion", "title": "Completion Notes"}, "description": "Notes about job completion"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/jobs/{job_id}/cancel": {"post": {"tags": ["jobs", "Jobs"], "summary": "Cancel job", "description": "Cancel a job with a reason.", "operationId": "jobs-cancel_job", "security": [{"Authorization": []}], "parameters": [{"name": "job_id", "in": "path", "required": true, "schema": {"type": "string", "format": "uuid", "title": "Job Id"}}, {"name": "reason", "in": "query", "required": true, "schema": {"type": "string", "description": "Reason for cancellation", "title": "Reason"}, "description": "Reason for cancellation"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/JobResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/business-context/current": {"get": {"tags": ["Business Context", "Business Context"], "summary": "Get Current Business Context", "description": "Get current business context information.\n\nReturns the user's current business context and list of available businesses.", "operationId": "Business Context-get_current_business_context", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessContextInfoResponse"}}}}}}}, "/api/v1/business-context/switch": {"post": {"tags": ["Business Context", "Business Context"], "summary": "Switch Business Context", "description": "Switch user's current business context.\n\nChanges the user's active business context and returns a new JWT token\nwith the updated business context.", "operationId": "Business Context-switch_business_context", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/SwitchBusinessContextRequest"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/BusinessContextResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/v1/business-context/available-businesses": {"get": {"tags": ["Business Context", "Business Context"], "summary": "Get Available Businesses", "description": "Get list of businesses the current user can access.\n\nReturns a list of businesses the authenticated user is a member of.", "operationId": "Business Context-get_available_businesses", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"items": {"type": "object"}, "type": "array", "title": "Response Business Context-Get Available Businesses"}}}}}}}, "/api/v1/business-context/refresh-token": {"post": {"tags": ["Business Context", "Business Context"], "summary": "Refresh Business Context Token", "description": "Refresh the current JWT token with updated business context.\n\nUseful when business memberships or permissions have changed.", "operationId": "Business Context-refresh_business_context_token", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Business Context-Refresh Business Context Token"}}}}}}}, "/api/v1/middleware/health": {"get": {"tags": ["Middleware Health", "Middleware Health"], "summary": "Get Middleware Health", "description": "Get middleware health and configuration information.\n\nThis endpoint provides information about the current middleware stack,\nconfiguration, and request processing status.", "operationId": "Middleware Health-get_middleware_health", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MiddlewareHealthResponse"}}}}}}}, "/api/v1/middleware/test": {"get": {"tags": ["Middleware Health", "Middleware Health"], "summary": "Test Middleware Stack", "description": "Test the middleware stack functionality.\n\nThis endpoint tests authentication and business context middleware\nto ensure they are working correctly.", "operationId": "Middleware Health-test_middleware_stack", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/MiddlewareTestResponse"}}}}}}}, "/api/v1/middleware/config": {"get": {"tags": ["Middleware Health", "Middleware Health"], "summary": "Get Middleware Config", "description": "Get detailed middleware configuration.\n\nThis endpoint provides detailed configuration information\nfor debugging and monitoring purposes.", "operationId": "Middleware Health-get_middleware_config", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Middleware Health-Get Middleware Config"}}}}}}}, "/api/v1/middleware/test-auth": {"post": {"tags": ["Middleware Health", "Middleware Health"], "summary": "Test Authentication Required", "description": "Test endpoint that requires authentication.\n\nThis endpoint will return 401 if authentication middleware is not working.", "operationId": "Middleware Health-test_authentication_required", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Middleware Health-Test Authentication Required"}}}}}}}, "/api/v1/middleware/test-business-context": {"post": {"tags": ["Middleware Health", "Middleware Health"], "summary": "Test Business Context Required", "description": "Test endpoint that requires business context.\n\nThis endpoint will return 400 if business context middleware is not working.", "operationId": "Middleware Health-test_business_context_required", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"type": "object", "title": "Response Middleware Health-Test Business Context Required"}}}}}}}, "/health": {"get": {"tags": ["health"], "summary": "Health Check", "description": "Health check endpoint for infrastructure monitoring.", "operationId": "health-health_check", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {}}}}}}}}, "components": {"schemas": {"AppleSignInRequest": {"properties": {"id_token": {"type": "string", "title": "Id Token", "description": "ID token from Apple Sign-In"}, "user_identifier": {"type": "string", "title": "User Identifier", "description": "User identifier from Apple"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email", "description": "Email from Apple (if provided)"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name", "description": "Full name from Apple (if provided)"}}, "type": "object", "required": ["id_token", "user_identifier"], "title": "AppleSignInRequest", "description": "Schema for Apple Sign-In with ID token from iOS app."}, "AuthUserResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name"}, "is_active": {"type": "boolean", "title": "Is Active"}, "is_superuser": {"type": "boolean", "title": "Is Superuser"}, "supabase_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Supabase Id"}, "last_login": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Login"}}, "type": "object", "required": ["id", "email", "phone", "full_name", "is_active", "is_superuser"], "title": "AuthUserResponse", "description": "Schema for authenticated user information."}, "BusinessContextInfoResponse": {"properties": {"current_business_id": {"type": "string", "title": "Current Business Id", "description": "Current business ID"}, "available_businesses": {"items": {"type": "object"}, "type": "array", "title": "Available Businesses", "description": "List of businesses user can access"}, "user_id": {"type": "string", "title": "User Id", "description": "User ID"}}, "type": "object", "required": ["available_businesses", "user_id"], "title": "BusinessContextInfoResponse", "description": "Schema for current business context information."}, "BusinessContextResponse": {"properties": {"current_business_id": {"type": "string", "title": "Current Business Id", "description": "Current business ID"}, "available_businesses": {"items": {"type": "object"}, "type": "array", "title": "Available Businesses", "description": "List of businesses user can access"}, "user_id": {"type": "string", "title": "User Id", "description": "User ID"}, "new_token": {"type": "string", "title": "New Token", "description": "New JWT token with updated business context"}}, "type": "object", "required": ["current_business_id", "available_businesses", "user_id", "new_token"], "title": "BusinessContextResponse", "description": "Schema for business context response."}, "BusinessCreateRequest": {"properties": {"name": {"type": "string", "maxLength": 100, "minLength": 1, "title": "Name", "description": "Business name"}, "industry": {"type": "string", "maxLength": 50, "minLength": 1, "title": "Industry", "description": "Industry category"}, "company_size": {"$ref": "#/components/schemas/CompanySizeSchema", "description": "Company size category"}, "custom_industry": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Custom Industry", "description": "Custom industry if not in predefined list"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description", "description": "Business description"}, "phone_number": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Phone Number", "description": "Business phone number"}, "business_address": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Business Address", "description": "Business address"}, "website": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Website", "description": "Business website URL"}, "business_email": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Business Email", "description": "Business email address"}, "selected_features": {"items": {"type": "string"}, "type": "array", "title": "Selected Features", "description": "Selected platform features"}, "primary_goals": {"items": {"type": "string"}, "type": "array", "title": "Primary Goals", "description": "Primary business goals"}, "referral_source": {"anyOf": [{"$ref": "#/components/schemas/ReferralSourceSchema"}, {"type": "null"}], "description": "How did you hear about us"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone", "description": "Business timezone"}}, "type": "object", "required": ["name", "industry", "company_size"], "title": "BusinessCreateRequest", "description": "Request schema for creating a business."}, "BusinessDetailResponse": {"properties": {"business": {"$ref": "#/components/schemas/BusinessResponse"}, "user_membership": {"$ref": "#/components/schemas/BusinessMembershipResponse"}, "team_members": {"items": {"$ref": "#/components/schemas/BusinessMembershipResponse"}, "type": "array", "title": "Team Members"}, "pending_invitations": {"items": {"$ref": "#/components/schemas/BusinessInvitationResponse"}, "type": "array", "title": "Pending Invitations"}, "total_members": {"type": "integer", "title": "Total Members"}, "owner_membership": {"$ref": "#/components/schemas/BusinessMembershipResponse"}}, "type": "object", "required": ["business", "user_membership", "team_members", "pending_invitations", "total_members", "owner_membership"], "title": "BusinessDetailResponse", "description": "Response schema for detailed business information."}, "BusinessInvitationAcceptRequest": {"properties": {"invitation_id": {"type": "string", "format": "uuid", "title": "Invitation Id", "description": "ID of the invitation to accept"}}, "type": "object", "required": ["invitation_id"], "title": "BusinessInvitationAcceptRequest", "description": "Request schema for accepting business invitations."}, "BusinessInvitationCreateRequest": {"properties": {"invited_email": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Invited Email", "description": "Email address to invite"}, "invited_phone": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Invited Phone", "description": "Phone number to invite"}, "role": {"$ref": "#/components/schemas/BusinessRoleSchema", "description": "Role to assign to the invitee"}, "message": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Message", "description": "Personal message for the invitation"}, "permissions": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Permissions", "description": "Custom permissions for the role"}, "department_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Department Id", "description": "Department to assign"}, "expiry_days": {"type": "integer", "maximum": 30.0, "minimum": 1.0, "title": "Expiry Days", "description": "Days until invitation expires", "default": 7}}, "type": "object", "required": ["role"], "title": "BusinessInvitationCreateRequest", "description": "Request schema for creating business invitations."}, "BusinessInvitationResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "business_id": {"type": "string", "format": "uuid", "title": "Business Id"}, "business_name": {"type": "string", "title": "Business Name"}, "invited_email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invited Email"}, "invited_phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invited Phone"}, "invited_by": {"type": "string", "title": "Invited By"}, "invited_by_name": {"type": "string", "title": "Invited By Name"}, "role": {"$ref": "#/components/schemas/BusinessRoleSchema"}, "permissions": {"items": {"type": "string"}, "type": "array", "title": "Permissions"}, "invitation_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invitation Date"}, "expiry_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Expiry Date"}, "status": {"$ref": "#/components/schemas/InvitationStatusSchema"}, "message": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Message"}, "accepted_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Accepted Date"}, "declined_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Declined Date"}, "role_display": {"type": "string", "title": "Role Display"}, "status_display": {"type": "string", "title": "Status Display"}, "expiry_summary": {"type": "string", "title": "Expiry Summary"}}, "type": "object", "required": ["id", "business_id", "business_name", "invited_email", "invited_phone", "invited_by", "invited_by_name", "role", "permissions", "invitation_date", "expiry_date", "status", "message", "accepted_date", "declined_date", "role_display", "status_display", "expiry_summary"], "title": "BusinessInvitationResponse", "description": "Response schema for business invitations."}, "BusinessMembershipResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "business_id": {"type": "string", "format": "uuid", "title": "Business Id"}, "user_id": {"type": "string", "title": "User Id"}, "role": {"$ref": "#/components/schemas/BusinessRoleSchema"}, "permissions": {"items": {"type": "string"}, "type": "array", "title": "Permissions"}, "joined_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Joined Date"}, "invited_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invited Date"}, "invited_by": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Invited By"}, "is_active": {"type": "boolean", "title": "Is Active"}, "department_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Department Id"}, "job_title": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Job Title"}, "role_display": {"type": "string", "title": "Role Display"}}, "type": "object", "required": ["id", "business_id", "user_id", "role", "permissions", "joined_date", "invited_date", "invited_by", "is_active", "department_id", "job_title", "role_display"], "title": "BusinessMembershipResponse", "description": "Response schema for business membership."}, "BusinessMembershipSummary": {"properties": {"business_id": {"type": "string", "title": "Business Id"}, "business_name": {"type": "string", "title": "Business Name"}, "role": {"type": "string", "title": "Role"}, "is_owner": {"type": "boolean", "title": "Is Owner"}, "is_active": {"type": "boolean", "title": "Is Active"}, "joined_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Joined Date"}}, "type": "object", "required": ["business_id", "business_name", "role", "is_owner", "is_active", "joined_date"], "title": "BusinessMembershipSummary", "description": "Summary of user's business membership."}, "BusinessMembershipUpdateRequest": {"properties": {"role": {"anyOf": [{"$ref": "#/components/schemas/BusinessRoleSchema"}, {"type": "null"}], "description": "New role for the member"}, "permissions": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Permissions", "description": "Custom permissions list"}, "department_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Department Id", "description": "Department assignment"}, "job_title": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Job Title", "description": "Job title"}, "is_active": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Active", "description": "Active status"}}, "type": "object", "title": "BusinessMembershipUpdateRequest", "description": "Request schema for updating business membership."}, "BusinessResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "industry": {"type": "string", "title": "Industry"}, "company_size": {"$ref": "#/components/schemas/CompanySizeSchema"}, "owner_id": {"type": "string", "title": "Owner Id"}, "custom_industry": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Custom Industry"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "phone_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone Number"}, "business_address": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Business Address"}, "website": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Website"}, "logo_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Logo Url"}, "business_email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Business Email"}, "business_registration_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Business Registration Number"}, "tax_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Tax Id"}, "business_license": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Business License"}, "insurance_number": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Insurance Number"}, "selected_features": {"items": {"type": "string"}, "type": "array", "title": "Selected Features"}, "primary_goals": {"items": {"type": "string"}, "type": "array", "title": "Primary Goals"}, "referral_source": {"anyOf": [{"$ref": "#/components/schemas/ReferralSourceSchema"}, {"type": "null"}]}, "onboarding_completed": {"type": "boolean", "title": "Onboarding Completed"}, "onboarding_completed_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Onboarding Completed Date"}, "timezone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Timezone"}, "currency": {"type": "string", "title": "Currency"}, "business_hours": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Business Hours"}, "is_active": {"type": "boolean", "title": "Is Active"}, "max_team_members": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Max Team Members"}, "subscription_tier": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Subscription Tier"}, "enabled_features": {"items": {"type": "string"}, "type": "array", "title": "Enabled Features"}, "created_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Created Date"}, "last_modified": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Modified"}}, "type": "object", "required": ["id", "name", "industry", "company_size", "owner_id", "custom_industry", "description", "phone_number", "business_address", "website", "logo_url", "business_email", "business_registration_number", "tax_id", "business_license", "insurance_number", "selected_features", "primary_goals", "referral_source", "onboarding_completed", "onboarding_completed_date", "timezone", "currency", "business_hours", "is_active", "max_team_members", "subscription_tier", "enabled_features", "created_date", "last_modified"], "title": "BusinessResponse", "description": "Response schema for business information."}, "BusinessRoleSchema": {"type": "string", "enum": ["owner", "admin", "manager", "employee", "contractor", "viewer"], "title": "BusinessRoleSchema", "description": "Business role options for API."}, "BusinessSummaryResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "name": {"type": "string", "title": "Name"}, "industry": {"type": "string", "title": "Industry"}, "company_size": {"$ref": "#/components/schemas/CompanySizeSchema"}, "is_active": {"type": "boolean", "title": "Is Active"}, "created_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Created Date"}, "team_member_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Team Member Count"}, "onboarding_completed": {"type": "boolean", "title": "Onboarding Completed"}}, "type": "object", "required": ["id", "name", "industry", "company_size", "is_active", "created_date", "team_member_count", "onboarding_completed"], "title": "BusinessSummaryResponse", "description": "Response schema for business summary information."}, "BusinessUpdateRequest": {"properties": {"name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Name"}, "industry": {"anyOf": [{"type": "string", "maxLength": 50, "minLength": 1}, {"type": "null"}], "title": "Industry"}, "custom_industry": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Custom Industry"}, "description": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Description"}, "phone_number": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Phone Number"}, "business_address": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Business Address"}, "website": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Website"}, "logo_url": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Logo Url"}, "business_email": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Business Email"}, "business_registration_number": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Business Registration Number"}, "tax_id": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Tax Id"}, "business_license": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Business License"}, "insurance_number": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Insurance Number"}, "timezone": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Timezone"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3}, {"type": "null"}], "title": "Currency"}, "business_hours": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Business Hours", "description": "Business operating hours"}, "max_team_members": {"anyOf": [{"type": "integer", "maximum": 1000.0, "minimum": 1.0}, {"type": "null"}], "title": "Max Team Members"}, "subscription_tier": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Subscription Tier"}, "enabled_features": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Enabled Features"}}, "type": "object", "title": "BusinessUpdateRequest", "description": "Request schema for updating a business."}, "CompanySizeSchema": {"type": "string", "enum": ["just_me", "small", "medium", "large", "enterprise"], "title": "CompanySizeSchema", "description": "Company size options for API."}, "ContactAddressSchema": {"properties": {"street_address": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Street Address", "description": "Street address"}, "city": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "City", "description": "City"}, "state": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "State", "description": "State or province"}, "postal_code": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Postal Code", "description": "Postal or ZIP code"}, "country": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Country", "description": "Country"}}, "type": "object", "title": "ContactAddressSchema", "description": "Schema for contact address."}, "ContactAssignmentRequest": {"properties": {"contact_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "maxItems": 1000, "minItems": 1, "title": "Contact Ids", "description": "Contact IDs to assign"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "User ID to assign to (null to unassign)"}, "notes": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Notes", "description": "Assignment notes"}}, "type": "object", "required": ["contact_ids"], "title": "ContactAssignmentRequest", "description": "Request schema for contact assignment."}, "ContactBulkOperationResponse": {"properties": {"updated_count": {"type": "integer", "title": "Updated Count", "description": "Number of contacts updated"}, "success": {"type": "boolean", "title": "Success", "description": "Whether operation was successful"}, "message": {"type": "string", "title": "Message", "description": "Operation result message"}}, "type": "object", "required": ["updated_count", "success", "message"], "title": "ContactBulkOperationResponse", "description": "Response schema for bulk operations."}, "ContactBulkUpdateRequest": {"properties": {"contact_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "maxItems": 1000, "minItems": 1, "title": "Contact Ids", "description": "Contact IDs to update"}, "status": {"anyOf": [{"$ref": "#/components/schemas/ContactStatusSchema"}, {"type": "null"}], "description": "New status"}, "priority": {"anyOf": [{"$ref": "#/components/schemas/ContactPrioritySchema"}, {"type": "null"}], "description": "New priority"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "User ID to assign contacts to"}, "tags_to_add": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags To Add", "description": "Tags to add"}, "tags_to_remove": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags To Remove", "description": "Tags to remove"}, "custom_fields": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Custom Fields", "description": "Custom fields to update"}}, "type": "object", "required": ["contact_ids"], "title": "ContactBulkUpdateRequest", "description": "Request schema for bulk contact updates."}, "ContactConversionRequest": {"properties": {"to_type": {"$ref": "#/components/schemas/ContactTypeSchema", "description": "Target contact type"}, "notes": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Notes", "description": "Conversion notes"}}, "type": "object", "required": ["to_type"], "title": "ContactConversionRequest", "description": "Request schema for contact type conversion."}, "ContactCreateRequest": {"properties": {"contact_type": {"$ref": "#/components/schemas/ContactTypeSchema", "description": "Type of contact"}, "relationship_status": {"anyOf": [{"$ref": "#/components/schemas/RelationshipStatusSchema"}, {"type": "null"}], "description": "Relationship status (auto-set based on contact_type if not provided)"}, "lifecycle_stage": {"anyOf": [{"$ref": "#/components/schemas/LifecycleStageSchema"}, {"type": "null"}], "description": "Lifecycle stage (auto-set based on relationship_status if not provided)"}, "first_name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "First Name", "description": "First name"}, "last_name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Last Name", "description": "Last name"}, "company_name": {"anyOf": [{"type": "string", "maxLength": 200, "minLength": 1}, {"type": "null"}], "title": "Company Name", "description": "Company name"}, "job_title": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Job Title", "description": "Job title"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email", "description": "Email address"}, "phone": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Phone", "description": "Phone number"}, "mobile_phone": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Mobile Phone", "description": "Mobile phone number"}, "website": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Website", "description": "Website URL"}, "address": {"anyOf": [{"$ref": "#/components/schemas/ContactAddressSchema"}, {"type": "null"}], "description": "Contact address"}, "priority": {"$ref": "#/components/schemas/ContactPrioritySchema", "description": "Contact priority", "default": "medium"}, "source": {"anyOf": [{"$ref": "#/components/schemas/ContactSourceSchema"}, {"type": "null"}], "description": "Contact source"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags", "description": "Contact tags"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes", "description": "Additional notes"}, "estimated_value": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "null"}], "title": "Estimated Value", "description": "Estimated value"}, "currency": {"type": "string", "maxLength": 3, "minLength": 3, "title": "Currency", "description": "Currency code", "default": "USD"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "Assigned user ID"}, "custom_fields": {"type": "object", "title": "Custom Fields", "description": "Custom fields"}}, "type": "object", "required": ["contact_type"], "title": "ContactCreateRequest", "description": "Request schema for creating a new contact."}, "ContactInteractionCreateRequest": {"properties": {"type": {"$ref": "#/components/schemas/InteractionTypeSchema", "description": "Type of interaction"}, "description": {"type": "string", "maxLength": 1000, "minLength": 1, "title": "Description", "description": "Interaction description"}, "outcome": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Outcome", "description": "Interaction outcome"}, "next_action": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Next Action", "description": "Next action to take"}, "scheduled_follow_up": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Follow Up", "description": "Scheduled follow-up date"}}, "type": "object", "required": ["type", "description"], "title": "ContactInteractionCreateRequest", "description": "Request schema for creating contact interaction."}, "ContactInteractionListResponse": {"properties": {"interactions": {"items": {"$ref": "#/components/schemas/ContactInteractionResponse"}, "type": "array", "title": "Interactions"}, "total": {"type": "integer", "title": "Total", "description": "Total number of interactions"}, "skip": {"type": "integer", "title": "Skip", "description": "Number of items skipped"}, "limit": {"type": "integer", "title": "Limit", "description": "Number of items per page"}}, "type": "object", "required": ["total", "skip", "limit"], "title": "ContactInteractionListResponse", "description": "Response schema for contact interaction list."}, "ContactInteractionResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id", "description": "Interaction ID"}, "contact_id": {"type": "string", "format": "uuid", "title": "Contact Id", "description": "Contact ID"}, "type": {"$ref": "#/components/schemas/InteractionTypeSchema", "description": "Type of interaction"}, "description": {"type": "string", "title": "Description", "description": "Interaction description"}, "timestamp": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Timestamp", "description": "Interaction timestamp"}, "outcome": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Outcome", "description": "Interaction outcome"}, "next_action": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Next Action", "description": "Next action to take"}, "scheduled_follow_up": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Scheduled Follow Up", "description": "Scheduled follow-up date"}, "performed_by": {"type": "string", "title": "Performed By", "description": "User who performed the interaction"}, "performed_by_id": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Performed By Id", "description": "User ID who performed the interaction"}}, "type": "object", "required": ["id", "contact_id", "type", "description", "timestamp", "performed_by"], "title": "ContactInteractionResponse", "description": "Response schema for contact interaction."}, "ContactListResponse": {"properties": {"contacts": {"items": {"$ref": "#/components/schemas/ContactResponse"}, "type": "array", "title": "Contacts", "description": "List of contacts"}, "total_count": {"type": "integer", "title": "Total Count", "description": "Total number of contacts"}, "page": {"type": "integer", "title": "Page", "description": "Current page number"}, "per_page": {"type": "integer", "title": "Per Page", "description": "Number of contacts per page"}, "has_next": {"type": "boolean", "title": "Has Next", "description": "Whether there are more pages"}, "has_previous": {"type": "boolean", "title": "Has Previous", "description": "Whether there are previous pages"}}, "type": "object", "required": ["contacts", "total_count", "page", "per_page", "has_next", "has_previous"], "title": "ContactListResponse", "description": "Response schema for contact list with pagination."}, "ContactPrioritySchema": {"type": "string", "enum": ["low", "medium", "high", "urgent"], "title": "ContactPrioritySchema", "description": "Schema for contact priority."}, "ContactResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id", "description": "Contact ID"}, "business_id": {"type": "string", "format": "uuid", "title": "Business Id", "description": "Business ID"}, "contact_type": {"$ref": "#/components/schemas/ContactTypeSchema", "description": "Contact type"}, "status": {"$ref": "#/components/schemas/ContactStatusSchema", "description": "Contact status"}, "relationship_status": {"$ref": "#/components/schemas/RelationshipStatusSchema", "description": "Relationship status"}, "lifecycle_stage": {"$ref": "#/components/schemas/LifecycleStageSchema", "description": "Lifecycle stage"}, "first_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "First Name", "description": "First name"}, "last_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Name", "description": "Last name"}, "company_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Company Name", "description": "Company name"}, "job_title": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Job Title", "description": "Job title"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email", "description": "Email address"}, "phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone", "description": "Phone number"}, "mobile_phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Mobile Phone", "description": "Mobile phone number"}, "website": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Website", "description": "Website URL"}, "address": {"anyOf": [{"$ref": "#/components/schemas/ContactAddressSchema"}, {"type": "null"}], "description": "Contact address"}, "priority": {"$ref": "#/components/schemas/ContactPrioritySchema", "description": "Contact priority"}, "source": {"anyOf": [{"$ref": "#/components/schemas/ContactSourceSchema"}, {"type": "null"}], "description": "Contact source"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags", "description": "Contact tags"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes", "description": "Additional notes"}, "estimated_value": {"anyOf": [{"type": "number"}, {"type": "null"}], "title": "Estimated Value", "description": "Estimated value"}, "currency": {"type": "string", "title": "Currency", "description": "Currency code"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "Assigned user ID"}, "created_by": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Created By", "description": "Creator user ID"}, "custom_fields": {"type": "object", "title": "Custom Fields", "description": "Custom fields"}, "status_history": {"items": {"$ref": "#/components/schemas/StatusHistoryEntrySchema"}, "type": "array", "title": "Status History", "description": "Status change history"}, "interaction_history": {"items": {"$ref": "#/components/schemas/ContactInteractionResponse"}, "type": "array", "title": "Interaction History", "description": "Recent interactions"}, "created_date": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Created Date", "description": "Creation date"}, "last_modified": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Modified", "description": "Last modification date"}, "last_contacted": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Last Contacted", "description": "Last contact date"}, "display_name": {"type": "string", "title": "Display Name", "description": "Display name"}, "primary_contact_method": {"type": "string", "title": "Primary Contact Method", "description": "Primary contact method"}, "type_display": {"type": "string", "title": "Type Display", "description": "Human-readable type"}, "status_display": {"type": "string", "title": "Status Display", "description": "Human-readable status"}, "priority_display": {"type": "string", "title": "Priority Display", "description": "Human-readable priority"}, "source_display": {"type": "string", "title": "Source Display", "description": "Human-readable source"}, "relationship_status_display": {"type": "string", "title": "Relationship Status Display", "description": "Human-readable relationship status"}, "lifecycle_stage_display": {"type": "string", "title": "Lifecycle Stage Display", "description": "Human-readable lifecycle stage"}}, "type": "object", "required": ["id", "business_id", "contact_type", "status", "relationship_status", "lifecycle_stage", "priority", "currency", "display_name", "primary_contact_method", "type_display", "status_display", "priority_display", "source_display", "relationship_status_display", "lifecycle_stage_display"], "title": "ContactResponse", "description": "Response schema for contact data."}, "ContactSearchRequest": {"properties": {"search_term": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Search Term", "description": "Search term"}, "contact_type": {"anyOf": [{"$ref": "#/components/schemas/ContactTypeSchema"}, {"type": "null"}], "description": "Filter by contact type"}, "status": {"anyOf": [{"$ref": "#/components/schemas/ContactStatusSchema"}, {"type": "null"}], "description": "Filter by status"}, "priority": {"anyOf": [{"$ref": "#/components/schemas/ContactPrioritySchema"}, {"type": "null"}], "description": "Filter by priority"}, "source": {"anyOf": [{"$ref": "#/components/schemas/ContactSourceSchema"}, {"type": "null"}], "description": "Filter by source"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "Filter by assigned user"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags", "description": "Filter by tags (OR operation)"}, "has_email": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Has Email", "description": "Filter contacts with/without email"}, "has_phone": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Has Phone", "description": "Filter contacts with/without phone"}, "min_estimated_value": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "null"}], "title": "Min Estimated Value", "description": "Minimum estimated value"}, "max_estimated_value": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "null"}], "title": "Max Estimated Value", "description": "Maximum estimated value"}, "created_after": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created After", "description": "Created after date"}, "created_before": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created Before", "description": "Created before date"}, "last_contacted_after": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Contacted After", "description": "Last contacted after date"}, "last_contacted_before": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Last Contacted Before", "description": "Last contacted before date"}, "never_contacted": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Never Contacted", "description": "Filter never contacted contacts"}, "skip": {"type": "integer", "minimum": 0.0, "title": "Skip", "description": "Number of records to skip", "default": 0}, "limit": {"type": "integer", "maximum": 1000.0, "minimum": 1.0, "title": "Limit", "description": "Maximum number of records to return", "default": 100}, "sort_by": {"type": "string", "title": "Sort By", "description": "Field to sort by", "default": "created_date"}, "sort_order": {"type": "string", "pattern": "^(asc|desc)$", "title": "Sort Order", "description": "Sort order", "default": "desc"}}, "type": "object", "title": "ContactSearchRequest", "description": "Request schema for searching contacts."}, "ContactSourceSchema": {"type": "string", "enum": ["website", "referral", "social_media", "advertising", "cold_outreach", "event", "partner", "existing_customer", "direct", "other"], "title": "ContactSourceSchema", "description": "Schema for contact source."}, "ContactStatisticsResponse": {"properties": {"total_contacts": {"type": "integer", "title": "Total Contacts", "description": "Total number of contacts"}, "active_contacts": {"type": "integer", "title": "Active Contacts", "description": "Number of active contacts"}, "inactive_contacts": {"type": "integer", "title": "Inactive Contacts", "description": "Number of inactive contacts"}, "archived_contacts": {"type": "integer", "title": "Archived Contacts", "description": "Number of archived contacts"}, "blocked_contacts": {"type": "integer", "title": "Blocked Contacts", "description": "Number of blocked contacts"}, "customers": {"type": "integer", "title": "Customers", "description": "Number of customers"}, "leads": {"type": "integer", "title": "Leads", "description": "Number of leads"}, "prospects": {"type": "integer", "title": "Prospects", "description": "Number of prospects"}, "vendors": {"type": "integer", "title": "Vendors", "description": "Number of vendors"}, "partners": {"type": "integer", "title": "Partners", "description": "Number of partners"}, "contractors": {"type": "integer", "title": "Contractors", "description": "Number of contractors"}, "high_priority": {"type": "integer", "title": "High Priority", "description": "Number of high priority contacts"}, "medium_priority": {"type": "integer", "title": "Medium Priority", "description": "Number of medium priority contacts"}, "low_priority": {"type": "integer", "title": "Low Priority", "description": "Number of low priority contacts"}, "urgent_priority": {"type": "integer", "title": "Urgent Priority", "description": "Number of urgent priority contacts"}, "with_email": {"type": "integer", "title": "With Email", "description": "Number of contacts with email"}, "with_phone": {"type": "integer", "title": "With Phone", "description": "Number of contacts with phone"}, "assigned_contacts": {"type": "integer", "title": "Assigned Contacts", "description": "Number of assigned contacts"}, "unassigned_contacts": {"type": "integer", "title": "Unassigned Contacts", "description": "Number of unassigned contacts"}, "never_contacted": {"type": "integer", "title": "Never Contacted", "description": "Number of never contacted contacts"}, "recently_contacted": {"type": "integer", "title": "Recently Contacted", "description": "Number of recently contacted contacts"}, "high_value_contacts": {"type": "integer", "title": "High Value Contacts", "description": "Number of high value contacts"}, "total_estimated_value": {"type": "number", "title": "Total Estimated Value", "description": "Total estimated value"}, "average_estimated_value": {"type": "number", "title": "Average Estimated Value", "description": "Average estimated value"}}, "type": "object", "required": ["total_contacts", "active_contacts", "inactive_contacts", "archived_contacts", "blocked_contacts", "customers", "leads", "prospects", "vendors", "partners", "contractors", "high_priority", "medium_priority", "low_priority", "urgent_priority", "with_email", "with_phone", "assigned_contacts", "unassigned_contacts", "never_contacted", "recently_contacted", "high_value_contacts", "total_estimated_value", "average_estimated_value"], "title": "ContactStatisticsResponse", "description": "Response schema for contact statistics."}, "ContactStatusSchema": {"type": "string", "enum": ["active", "inactive", "archived", "blocked"], "title": "ContactStatusSchema", "description": "Schema for contact status."}, "ContactStatusUpdateRequest": {"properties": {"relationship_status": {"$ref": "#/components/schemas/RelationshipStatusSchema", "description": "New relationship status"}, "lifecycle_stage": {"anyOf": [{"$ref": "#/components/schemas/LifecycleStageSchema"}, {"type": "null"}], "description": "New lifecycle stage (optional, will be auto-set if not provided)"}, "reason": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Reason", "description": "Reason for status change"}, "notes": {"anyOf": [{"type": "string", "maxLength": 1000}, {"type": "null"}], "title": "Notes", "description": "Additional notes"}}, "type": "object", "required": ["relationship_status"], "title": "ContactStatusUpdateRequest", "description": "Request schema for updating contact relationship status."}, "ContactStatusUpdateResponse": {"properties": {"contact_id": {"type": "string", "format": "uuid", "title": "Contact Id", "description": "Contact ID"}, "old_status": {"$ref": "#/components/schemas/RelationshipStatusSchema", "description": "Previous relationship status"}, "new_status": {"$ref": "#/components/schemas/RelationshipStatusSchema", "description": "New relationship status"}, "old_lifecycle_stage": {"$ref": "#/components/schemas/LifecycleStageSchema", "description": "Previous lifecycle stage"}, "new_lifecycle_stage": {"$ref": "#/components/schemas/LifecycleStageSchema", "description": "New lifecycle stage"}, "changed_by": {"type": "string", "title": "Changed By", "description": "User who made the change"}, "timestamp": {"type": "string", "title": "Timestamp", "description": "Change timestamp"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason", "description": "Reason for status change"}}, "type": "object", "required": ["contact_id", "old_status", "new_status", "old_lifecycle_stage", "new_lifecycle_stage", "changed_by", "timestamp"], "title": "ContactStatusUpdateResponse", "description": "Response schema for contact status update."}, "ContactTagOperationRequest": {"properties": {"contact_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "maxItems": 1000, "minItems": 1, "title": "Contact Ids", "description": "Contact IDs"}, "tags": {"items": {"type": "string"}, "type": "array", "minItems": 1, "title": "Tags", "description": "Tags to operate on"}, "operation": {"type": "string", "pattern": "^(add|remove|replace)$", "title": "Operation", "description": "Operation type"}}, "type": "object", "required": ["contact_ids", "tags", "operation"], "title": "ContactTagOperationRequest", "description": "Request schema for contact tag operations."}, "ContactTypeSchema": {"type": "string", "enum": ["customer", "lead", "prospect", "vendor", "partner", "contractor"], "title": "ContactTypeSchema", "description": "Schema for contact types."}, "ContactUpdateRequest": {"properties": {"contact_type": {"anyOf": [{"$ref": "#/components/schemas/ContactTypeSchema"}, {"type": "null"}], "description": "Type of contact"}, "first_name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "First Name", "description": "First name"}, "last_name": {"anyOf": [{"type": "string", "maxLength": 100, "minLength": 1}, {"type": "null"}], "title": "Last Name", "description": "Last name"}, "company_name": {"anyOf": [{"type": "string", "maxLength": 200, "minLength": 1}, {"type": "null"}], "title": "Company Name", "description": "Company name"}, "job_title": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Job Title", "description": "Job title"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email", "description": "Email address"}, "phone": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Phone", "description": "Phone number"}, "mobile_phone": {"anyOf": [{"type": "string", "maxLength": 20}, {"type": "null"}], "title": "Mobile Phone", "description": "Mobile phone number"}, "website": {"anyOf": [{"type": "string", "maxLength": 200}, {"type": "null"}], "title": "Website", "description": "Website URL"}, "address": {"anyOf": [{"$ref": "#/components/schemas/ContactAddressSchema"}, {"type": "null"}], "description": "Contact address"}, "priority": {"anyOf": [{"$ref": "#/components/schemas/ContactPrioritySchema"}, {"type": "null"}], "description": "Contact priority"}, "source": {"anyOf": [{"$ref": "#/components/schemas/ContactSourceSchema"}, {"type": "null"}], "description": "Contact source"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Tags", "description": "Contact tags"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes", "description": "Additional notes"}, "estimated_value": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "null"}], "title": "Estimated Value", "description": "Estimated value"}, "currency": {"anyOf": [{"type": "string", "maxLength": 3, "minLength": 3}, {"type": "null"}], "title": "Currency", "description": "Currency code"}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To", "description": "Assigned user ID"}, "custom_fields": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Custom Fields", "description": "Custom fields"}}, "type": "object", "title": "ContactUpdateRequest", "description": "Request schema for updating a contact."}, "GoogleSignInRequest": {"properties": {"id_token": {"type": "string", "title": "Id Token", "description": "ID token from Google Sign-In"}, "access_token": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Access Token", "description": "Access token from Google"}, "email": {"anyOf": [{"type": "string", "format": "email"}, {"type": "null"}], "title": "Email", "description": "Email from Google"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name", "description": "Full name from Google"}, "given_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Given Name", "description": "Given name from Google"}, "family_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Family Name", "description": "Family name from Google"}, "picture_url": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Picture Url", "description": "Profile picture URL from Google"}}, "type": "object", "required": ["id_token"], "title": "GoogleSignInRequest", "description": "Schema for Google Sign-In with ID token from iOS app."}, "HTTPValidationError": {"properties": {"detail": {"items": {"$ref": "#/components/schemas/ValidationError"}, "type": "array", "title": "Detail"}}, "type": "object", "title": "HTTPValidationError"}, "InteractionTypeSchema": {"type": "string", "enum": ["call", "email", "meeting", "proposal", "quote", "contract", "service", "follow_up", "note"], "title": "InteractionTypeSchema", "description": "Schema for interaction types."}, "InvitationStatusSchema": {"type": "string", "enum": ["pending", "accepted", "declined", "expired", "cancelled"], "title": "InvitationStatusSchema", "description": "Invitation status options for API."}, "JobActionResponse": {"properties": {"success": {"type": "boolean", "title": "Success", "default": true}, "message": {"type": "string", "title": "Message"}, "job_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Job Id"}}, "type": "object", "required": ["message"], "title": "JobActionResponse", "description": "Schema for job action responses.", "example": {"job_id": "550e8400-e29b-41d4-a716-446655440000", "message": "Job created successfully", "success": true}}, "JobAddressSchema": {"properties": {"street_address": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Street Address"}, "city": {"type": "string", "maxLength": 100, "minLength": 1, "title": "City"}, "state": {"type": "string", "maxLength": 50, "minLength": 2, "title": "State"}, "postal_code": {"type": "string", "maxLength": 20, "minLength": 3, "title": "Postal Code"}, "country": {"type": "string", "maxLength": 2, "title": "Country", "default": "US"}, "latitude": {"anyOf": [{"type": "number", "maximum": 90.0, "minimum": -90.0}, {"type": "null"}], "title": "Latitude"}, "longitude": {"anyOf": [{"type": "number", "maximum": 180.0, "minimum": -180.0}, {"type": "null"}], "title": "Longitude"}, "access_notes": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Access Notes"}}, "type": "object", "required": ["street_address", "city", "state", "postal_code"], "title": "JobAddressSchema", "description": "Schema for job address.", "example": {"access_notes": "Gate code: 1234", "city": "Anytown", "country": "US", "latitude": 37.7749, "longitude": -122.4194, "postal_code": "12345", "state": "CA", "street_address": "123 Main St"}}, "JobAssignmentRequest": {"properties": {"user_ids": {"items": {"type": "string"}, "type": "array", "maxItems": 10, "minItems": 1, "title": "User Ids"}, "replace_existing": {"type": "boolean", "title": "Replace Existing", "default": false}}, "type": "object", "required": ["user_ids"], "title": "JobAssignmentRequest", "description": "Schema for job assignment request.", "example": {"replace_existing": true, "user_ids": ["user123", "user456"]}}, "JobBulkActionResponse": {"properties": {"success": {"type": "boolean", "title": "Success", "default": true}, "message": {"type": "string", "title": "Message"}, "updated_count": {"type": "integer", "title": "Updated Count"}, "failed_count": {"type": "integer", "title": "Failed Count", "default": 0}, "errors": {"anyOf": [{"items": {"type": "string"}, "type": "array"}, {"type": "null"}], "title": "Errors"}}, "type": "object", "required": ["message", "updated_count"], "title": "JobBulkActionResponse", "description": "Schema for bulk job action responses.", "example": {"failed_count": 0, "message": "Bulk update completed", "success": true, "updated_count": 5}}, "JobBulkUpdateRequest": {"properties": {"job_ids": {"items": {"type": "string", "format": "uuid"}, "type": "array", "maxItems": 50, "minItems": 1, "title": "Job Ids"}, "status": {"anyOf": [{"$ref": "#/components/schemas/JobStatusEnum"}, {"type": "null"}]}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To"}, "tags_to_add": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 10}, {"type": "null"}], "title": "Tags To Add"}, "tags_to_remove": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 10}, {"type": "null"}], "title": "Tags To Remove"}, "priority": {"anyOf": [{"$ref": "#/components/schemas/JobPriorityEnum"}, {"type": "null"}]}}, "type": "object", "required": ["job_ids"], "title": "JobBulkUpdateRequest", "description": "Schema for bulk job update request.", "example": {"assigned_to": "user123", "job_ids": ["550e8400-e29b-41d4-a716-446655440000"], "status": "scheduled", "tags_to_add": ["urgent"]}}, "JobCostEstimateSchema-Input": {"properties": {"labor_cost": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Labor Cost", "default": "0"}, "material_cost": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Material Cost", "default": "0"}, "equipment_cost": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Equipment Cost", "default": "0"}, "overhead_cost": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Overhead Cost", "default": "0"}, "markup_percentage": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Markup Percentage", "default": "20"}, "tax_percentage": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Tax Percentage", "default": "0"}, "discount_amount": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}], "title": "Discount Amount", "default": "0"}}, "type": "object", "title": "JobCostEstimateSchema", "description": "Schema for job cost estimation.", "example": {"discount_amount": "10.00", "equipment_cost": "25.00", "labor_cost": "150.00", "markup_percentage": "20.00", "material_cost": "75.00", "overhead_cost": "30.00", "tax_percentage": "8.25"}}, "JobCostEstimateSchema-Output": {"properties": {"labor_cost": {"type": "string", "title": "Labor Cost", "default": "0"}, "material_cost": {"type": "string", "title": "Material Cost", "default": "0"}, "equipment_cost": {"type": "string", "title": "Equipment Cost", "default": "0"}, "overhead_cost": {"type": "string", "title": "Overhead Cost", "default": "0"}, "markup_percentage": {"type": "string", "title": "Markup Percentage", "default": "20"}, "tax_percentage": {"type": "string", "title": "Tax Percentage", "default": "0"}, "discount_amount": {"type": "string", "title": "Discount Amount", "default": "0"}}, "type": "object", "title": "JobCostEstimateSchema", "description": "Schema for job cost estimation.", "example": {"discount_amount": "10.00", "equipment_cost": "25.00", "labor_cost": "150.00", "markup_percentage": "20.00", "material_cost": "75.00", "overhead_cost": "30.00", "tax_percentage": "8.25"}}, "JobCreateRequest": {"properties": {"contact_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Contact Id"}, "job_number": {"anyOf": [{"type": "string", "maxLength": 50}, {"type": "null"}], "title": "Job Number"}, "title": {"type": "string", "maxLength": 255, "minLength": 1, "title": "Title"}, "description": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Description"}, "job_type": {"$ref": "#/components/schemas/JobTypeEnum"}, "priority": {"$ref": "#/components/schemas/JobPriorityEnum", "default": "medium"}, "source": {"$ref": "#/components/schemas/JobSourceEnum", "default": "other"}, "job_address": {"$ref": "#/components/schemas/JobAddressSchema"}, "scheduled_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start"}, "scheduled_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End"}, "assigned_to": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 10}, {"type": "null"}], "title": "Assigned To"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 20}, {"type": "null"}], "title": "Tags"}, "notes": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Notes"}, "customer_requirements": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Customer Requirements"}, "time_tracking": {"anyOf": [{"$ref": "#/components/schemas/JobTimeTrackingSchema-Input"}, {"type": "null"}]}, "cost_estimate": {"anyOf": [{"$ref": "#/components/schemas/JobCostEstimateSchema-Input"}, {"type": "null"}]}, "custom_fields": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Custom Fields"}}, "type": "object", "required": ["title", "job_type", "job_address"], "title": "JobCreateRequest", "description": "Schema for job creation request.", "example": {"contact_id": "550e8400-e29b-41d4-a716-446655440000", "description": "Annual HVAC system maintenance and inspection", "job_address": {"city": "Anytown", "postal_code": "12345", "state": "CA", "street_address": "123 Main St"}, "job_type": "maintenance", "notes": "Customer prefers morning appointments", "priority": "medium", "scheduled_end": "2024-01-15T12:00:00Z", "scheduled_start": "2024-01-15T09:00:00Z", "source": "website", "tags": ["hvac", "maintenance", "routine"], "title": "HVAC Maintenance Service"}}, "JobListPaginatedResponse": {"properties": {"jobs": {"items": {"$ref": "#/components/schemas/JobListResponse"}, "type": "array", "title": "Jobs"}, "total": {"type": "integer", "title": "Total"}, "skip": {"type": "integer", "title": "Skip"}, "limit": {"type": "integer", "title": "Limit"}, "has_more": {"type": "boolean", "title": "Has More"}}, "type": "object", "required": ["jobs", "total", "skip", "limit", "has_more"], "title": "JobListPaginatedResponse", "description": "Schema for paginated job list response.", "example": {"has_more": true, "jobs": [], "limit": 20, "skip": 0, "total": 150}}, "JobListResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "job_number": {"type": "string", "title": "Job Number"}, "title": {"type": "string", "title": "Title"}, "job_type": {"$ref": "#/components/schemas/JobTypeEnum"}, "status": {"$ref": "#/components/schemas/JobStatusEnum"}, "priority": {"$ref": "#/components/schemas/JobPriorityEnum"}, "scheduled_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start"}, "scheduled_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End"}, "assigned_to": {"items": {"type": "string"}, "type": "array", "title": "Assigned To"}, "estimated_revenue": {"type": "string", "title": "Estimated Revenue"}, "is_overdue": {"type": "boolean", "title": "Is Overdue"}, "is_emergency": {"type": "boolean", "title": "Is Emergency"}, "created_date": {"type": "string", "format": "date-time", "title": "Created Date"}, "last_modified": {"type": "string", "format": "date-time", "title": "Last Modified"}, "status_display": {"type": "string", "title": "Status Display"}, "priority_display": {"type": "string", "title": "Priority Display"}, "type_display": {"type": "string", "title": "Type Display"}}, "type": "object", "required": ["id", "job_number", "title", "job_type", "status", "priority", "scheduled_start", "scheduled_end", "assigned_to", "estimated_revenue", "is_overdue", "is_emergency", "created_date", "last_modified", "status_display", "priority_display", "type_display"], "title": "JobListResponse", "description": "Schema for job list response."}, "JobPriorityEnum": {"type": "string", "enum": ["low", "medium", "high", "urgent", "emergency"], "title": "JobPriorityEnum", "description": "Job priority enumeration for API."}, "JobResponse": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id"}, "business_id": {"type": "string", "format": "uuid", "title": "Business Id"}, "contact_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Contact Id"}, "job_number": {"type": "string", "title": "Job Number"}, "title": {"type": "string", "title": "Title"}, "description": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Description"}, "job_type": {"$ref": "#/components/schemas/JobTypeEnum"}, "status": {"$ref": "#/components/schemas/JobStatusEnum"}, "priority": {"$ref": "#/components/schemas/JobPriorityEnum"}, "source": {"$ref": "#/components/schemas/JobSourceEnum"}, "job_address": {"$ref": "#/components/schemas/JobAddressSchema"}, "scheduled_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start"}, "scheduled_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End"}, "actual_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Actual Start"}, "actual_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Actual End"}, "assigned_to": {"items": {"type": "string"}, "type": "array", "title": "Assigned To"}, "created_by": {"type": "string", "title": "Created By"}, "time_tracking": {"$ref": "#/components/schemas/JobTimeTrackingSchema-Output"}, "cost_estimate": {"$ref": "#/components/schemas/JobCostEstimateSchema-Output"}, "tags": {"items": {"type": "string"}, "type": "array", "title": "Tags"}, "notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Notes"}, "internal_notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Internal Notes"}, "customer_requirements": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Customer Requirements"}, "completion_notes": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Completion Notes"}, "custom_fields": {"type": "object", "title": "Custom Fields"}, "created_date": {"type": "string", "format": "date-time", "title": "Created Date"}, "last_modified": {"type": "string", "format": "date-time", "title": "Last Modified"}, "completed_date": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Completed Date"}, "is_overdue": {"type": "boolean", "title": "Is Overdue"}, "is_emergency": {"type": "boolean", "title": "Is Emergency"}, "duration_days": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Duration Days"}, "estimated_revenue": {"type": "string", "title": "Estimated Revenue"}, "profit_margin": {"type": "string", "title": "Profit Margin"}, "status_display": {"type": "string", "title": "Status Display"}, "priority_display": {"type": "string", "title": "Priority Display"}, "type_display": {"type": "string", "title": "Type Display"}}, "type": "object", "required": ["id", "business_id", "contact_id", "job_number", "title", "description", "job_type", "status", "priority", "source", "job_address", "scheduled_start", "scheduled_end", "actual_start", "actual_end", "assigned_to", "created_by", "time_tracking", "cost_estimate", "tags", "notes", "internal_notes", "customer_requirements", "completion_notes", "custom_fields", "created_date", "last_modified", "completed_date", "is_overdue", "is_emergency", "duration_days", "estimated_revenue", "profit_margin", "status_display", "priority_display", "type_display"], "title": "JobResponse", "description": "Schema for job response.", "example": {"business_id": "550e8400-e29b-41d4-a716-446655440001", "contact_id": "550e8400-e29b-41d4-a716-446655440002", "description": "Annual HVAC system maintenance", "estimated_revenue": "280.00", "id": "550e8400-e29b-41d4-a716-446655440000", "is_emergency": false, "is_overdue": false, "job_number": "JOB-000001", "job_type": "maintenance", "priority": "medium", "source": "website", "status": "scheduled", "title": "HVAC Maintenance Service"}}, "JobScheduleResponse": {"properties": {"date": {"type": "string", "format": "date-time", "title": "Date"}, "jobs": {"items": {"$ref": "#/components/schemas/JobListResponse"}, "type": "array", "title": "Jobs"}, "total_jobs": {"type": "integer", "title": "Total Jobs"}, "total_hours": {"type": "string", "title": "Total Hours"}, "conflicts": {"items": {"type": "object"}, "type": "array", "title": "Conflicts"}}, "type": "object", "required": ["date", "jobs", "total_jobs", "total_hours", "conflicts"], "title": "JobScheduleResponse", "description": "Schema for job schedule response."}, "JobSearchRequest": {"properties": {"search_term": {"anyOf": [{"type": "string", "maxLength": 100}, {"type": "null"}], "title": "Search Term"}, "job_type": {"anyOf": [{"$ref": "#/components/schemas/JobTypeEnum"}, {"type": "null"}]}, "status": {"anyOf": [{"$ref": "#/components/schemas/JobStatusEnum"}, {"type": "null"}]}, "priority": {"anyOf": [{"$ref": "#/components/schemas/JobPriorityEnum"}, {"type": "null"}]}, "source": {"anyOf": [{"$ref": "#/components/schemas/JobSourceEnum"}, {"type": "null"}]}, "assigned_to": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Assigned To"}, "contact_id": {"anyOf": [{"type": "string", "format": "uuid"}, {"type": "null"}], "title": "Contact Id"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 10}, {"type": "null"}], "title": "Tags"}, "scheduled_start_from": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start From"}, "scheduled_start_to": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start To"}, "scheduled_end_from": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End From"}, "scheduled_end_to": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End To"}, "created_from": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created From"}, "created_to": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Created To"}, "is_overdue": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Overdue"}, "is_emergency": {"anyOf": [{"type": "boolean"}, {"type": "null"}], "title": "Is Emergency"}, "min_revenue": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}, {"type": "null"}], "title": "Min Revenue"}, "max_revenue": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}, {"type": "null"}], "title": "Max Revenue"}, "skip": {"type": "integer", "minimum": 0.0, "title": "Skip", "default": 0}, "limit": {"type": "integer", "maximum": 1000.0, "minimum": 1.0, "title": "Limit", "default": 100}, "sort_by": {"type": "string", "pattern": "^(created_date|last_modified|scheduled_start|title|status|priority)$", "title": "Sort By", "default": "created_date"}, "sort_order": {"type": "string", "pattern": "^(asc|desc)$", "title": "Sort Order", "default": "desc"}}, "type": "object", "title": "JobSearchRequest", "description": "Schema for job search request."}, "JobSourceEnum": {"type": "string", "enum": ["website", "referral", "repeat_customer", "marketing", "cold_call", "emergency_call", "partner", "walk_in", "other"], "title": "JobSourceEnum", "description": "Job source enumeration for API."}, "JobStatisticsResponse": {"properties": {"total_jobs": {"type": "integer", "title": "Total Jobs"}, "jobs_by_status": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Jobs By Status"}, "jobs_by_type": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Jobs By Type"}, "jobs_by_priority": {"additionalProperties": {"type": "integer"}, "type": "object", "title": "Jobs By Priority"}, "overdue_jobs": {"type": "integer", "title": "Overdue Jobs"}, "emergency_jobs": {"type": "integer", "title": "Emergency Jobs"}, "jobs_in_progress": {"type": "integer", "title": "Jobs In Progress"}, "completed_this_month": {"type": "integer", "title": "Completed This Month"}, "revenue_this_month": {"type": "string", "title": "Revenue This Month"}, "average_job_value": {"type": "string", "title": "Average Job Value"}, "top_job_types": {"items": {"type": "object"}, "type": "array", "title": "Top Job Types"}, "completion_rate": {"type": "number", "title": "Completion Rate"}, "on_time_completion_rate": {"type": "number", "title": "On Time Completion Rate"}}, "type": "object", "required": ["total_jobs", "jobs_by_status", "jobs_by_type", "jobs_by_priority", "overdue_jobs", "emergency_jobs", "jobs_in_progress", "completed_this_month", "revenue_this_month", "average_job_value", "top_job_types", "completion_rate", "on_time_completion_rate"], "title": "JobStatisticsResponse", "description": "Schema for job statistics response.", "example": {"completion_rate": 85.5, "emergency_jobs": 2, "jobs_by_status": {"cancelled": 10, "completed": 100, "draft": 5, "in_progress": 10, "scheduled": 25}, "overdue_jobs": 3, "revenue_this_month": "25000.00", "total_jobs": 150}}, "JobStatusEnum": {"type": "string", "enum": ["draft", "quoted", "scheduled", "in_progress", "on_hold", "completed", "cancelled", "invoiced", "paid"], "title": "JobStatusEnum", "description": "Job status enumeration for API."}, "JobStatusUpdateRequest": {"properties": {"status": {"$ref": "#/components/schemas/JobStatusEnum"}, "notes": {"anyOf": [{"type": "string", "maxLength": 500}, {"type": "null"}], "title": "Notes"}}, "type": "object", "required": ["status"], "title": "JobStatusUpdateRequest", "description": "Schema for job status update request.", "example": {"notes": "Started work on site", "status": "in_progress"}}, "JobTimeTrackingSchema-Input": {"properties": {"estimated_hours": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}, {"type": "null"}], "title": "Estimated Hours"}, "actual_hours": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}, {"type": "null"}], "title": "Actual Hours"}, "billable_hours": {"anyOf": [{"type": "number", "minimum": 0.0}, {"type": "string"}, {"type": "null"}], "title": "Billable Hours"}, "start_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start Time"}, "end_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End Time"}, "break_time_minutes": {"type": "integer", "minimum": 0.0, "title": "Break Time Minutes", "default": 0}}, "type": "object", "title": "JobTimeTrackingSchema", "description": "Schema for job time tracking.", "example": {"actual_hours": "2.75", "billable_hours": "2.5", "break_time_minutes": 15, "end_time": "2024-01-15T11:45:00Z", "estimated_hours": "2.5", "start_time": "2024-01-15T09:00:00Z"}}, "JobTimeTrackingSchema-Output": {"properties": {"estimated_hours": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Estimated Hours"}, "actual_hours": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Actual Hours"}, "billable_hours": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Billable Hours"}, "start_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Start Time"}, "end_time": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "End Time"}, "break_time_minutes": {"type": "integer", "minimum": 0.0, "title": "Break Time Minutes", "default": 0}}, "type": "object", "title": "JobTimeTrackingSchema", "description": "Schema for job time tracking.", "example": {"actual_hours": "2.75", "billable_hours": "2.5", "break_time_minutes": 15, "end_time": "2024-01-15T11:45:00Z", "estimated_hours": "2.5", "start_time": "2024-01-15T09:00:00Z"}}, "JobTypeEnum": {"type": "string", "enum": ["service", "installation", "maintenance", "repair", "inspection", "consultation", "emergency", "project", "other"], "title": "JobTypeEnum", "description": "Job type enumeration for API."}, "JobUpdateRequest": {"properties": {"title": {"anyOf": [{"type": "string", "maxLength": 255, "minLength": 1}, {"type": "null"}], "title": "Title"}, "description": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Description"}, "job_type": {"anyOf": [{"$ref": "#/components/schemas/JobTypeEnum"}, {"type": "null"}]}, "priority": {"anyOf": [{"$ref": "#/components/schemas/JobPriorityEnum"}, {"type": "null"}]}, "source": {"anyOf": [{"$ref": "#/components/schemas/JobSourceEnum"}, {"type": "null"}]}, "job_address": {"anyOf": [{"$ref": "#/components/schemas/JobAddressSchema"}, {"type": "null"}]}, "scheduled_start": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled Start"}, "scheduled_end": {"anyOf": [{"type": "string", "format": "date-time"}, {"type": "null"}], "title": "Scheduled End"}, "assigned_to": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 10}, {"type": "null"}], "title": "Assigned To"}, "tags": {"anyOf": [{"items": {"type": "string"}, "type": "array", "maxItems": 20}, {"type": "null"}], "title": "Tags"}, "notes": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Notes"}, "internal_notes": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Internal Notes"}, "customer_requirements": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Customer Requirements"}, "completion_notes": {"anyOf": [{"type": "string", "maxLength": 2000}, {"type": "null"}], "title": "Completion Notes"}, "time_tracking": {"anyOf": [{"$ref": "#/components/schemas/JobTimeTrackingSchema-Input"}, {"type": "null"}]}, "cost_estimate": {"anyOf": [{"$ref": "#/components/schemas/JobCostEstimateSchema-Input"}, {"type": "null"}]}, "custom_fields": {"anyOf": [{"type": "object"}, {"type": "null"}], "title": "Custom Fields"}}, "type": "object", "title": "JobUpdateRequest", "description": "Schema for job update request."}, "JobWorkloadResponse": {"properties": {"user_id": {"type": "string", "title": "User Id"}, "total_assigned_jobs": {"type": "integer", "title": "Total Assigned Jobs"}, "jobs_in_progress": {"type": "integer", "title": "Jobs In Progress"}, "overdue_jobs": {"type": "integer", "title": "Overdue Jobs"}, "scheduled_this_week": {"type": "integer", "title": "Scheduled This Week"}, "total_estimated_hours": {"type": "string", "title": "Total Estimated Hours"}, "total_actual_hours": {"type": "string", "title": "Total Actual Hours"}, "utilization_rate": {"type": "number", "title": "Utilization Rate"}, "completion_rate": {"type": "number", "title": "Completion Rate"}}, "type": "object", "required": ["user_id", "total_assigned_jobs", "jobs_in_progress", "overdue_jobs", "scheduled_this_week", "total_estimated_hours", "total_actual_hours", "utilization_rate", "completion_rate"], "title": "JobWorkloadResponse", "description": "Schema for job workload response."}, "LifecycleStageSchema": {"type": "string", "enum": ["awareness", "interest", "consideration", "decision", "retention", "customer"], "title": "LifecycleStageSchema", "description": "Schema for customer lifecycle stage."}, "Message": {"properties": {"message": {"type": "string", "title": "Message"}}, "type": "object", "required": ["message"], "title": "Message", "description": "Generic message response (legacy compatibility)."}, "MessageResponse": {"properties": {"message": {"type": "string", "title": "Message", "description": "Response message"}, "success": {"type": "boolean", "title": "Success", "description": "Whether operation was successful", "default": true}}, "type": "object", "required": ["message"], "title": "MessageResponse", "description": "Generic message response."}, "MiddlewareHealthResponse": {"properties": {"status": {"type": "string", "title": "Status"}, "total_middlewares": {"type": "integer", "title": "Total Middlewares"}, "cors_enabled": {"type": "boolean", "title": "Cors Enabled"}, "cors_origins": {"items": {}, "type": "array", "title": "Cors Origins"}, "middlewares": {"items": {}, "type": "array", "title": "Middlewares"}, "request_info": {"type": "object", "title": "Request Info"}}, "type": "object", "required": ["status", "total_middlewares", "cors_enabled", "cors_origins", "middlewares", "request_info"], "title": "MiddlewareHealthResponse", "description": "Schema for middleware health response."}, "MiddlewareTestResponse": {"properties": {"authentication_status": {"type": "string", "title": "Authentication Status"}, "business_context_status": {"type": "string", "title": "Business Context Status"}, "user_info": {"type": "object", "title": "User Info"}, "business_info": {"type": "object", "title": "Business Info"}, "headers": {"additionalProperties": {"type": "string"}, "type": "object", "title": "Headers"}}, "type": "object", "required": ["authentication_status", "business_context_status", "user_info", "business_info", "headers"], "title": "MiddlewareTestResponse", "description": "Schema for middleware test response."}, "OAuthSignInResponse": {"properties": {"access_token": {"type": "string", "title": "Access Token", "description": "Supabase access token"}, "refresh_token": {"type": "string", "title": "Refresh Token", "description": "Supabase refresh token"}, "expires_in": {"type": "integer", "title": "Expires In", "description": "Token expiration time in seconds"}, "token_type": {"type": "string", "title": "Token Type", "description": "Token type", "default": "bearer"}, "user": {"$ref": "#/components/schemas/AuthUserResponse", "description": "User information"}, "is_new_user": {"type": "boolean", "title": "Is New User", "description": "Whether this is a newly created user"}}, "type": "object", "required": ["access_token", "refresh_token", "expires_in", "user", "is_new_user"], "title": "OAuthSignInResponse", "description": "Schema for OAuth sign-in response."}, "OTPVerificationRequest": {"properties": {"phone": {"type": "string", "title": "Phone"}, "token": {"type": "string", "title": "Token"}}, "type": "object", "required": ["phone", "token"], "title": "OTPVerificationRequest"}, "PhoneSignInRequest": {"properties": {"phone": {"type": "string", "title": "Phone"}, "password": {"type": "string", "title": "Password"}}, "type": "object", "required": ["phone", "password"], "title": "PhoneSignInRequest"}, "PhoneSignUpRequest": {"properties": {"phone": {"type": "string", "title": "Phone"}, "password": {"type": "string", "title": "Password"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name"}}, "type": "object", "required": ["phone", "password"], "title": "PhoneSignUpRequest"}, "ReferralSourceSchema": {"type": "string", "enum": ["search_engine", "social_media", "friend_referral", "advertisement", "app_store", "other"], "title": "ReferralSourceSchema", "description": "Referral source options for API."}, "RelationshipStatusSchema": {"type": "string", "enum": ["prospect", "qualified_lead", "opportunity", "active_client", "past_client", "lost_lead", "inactive"], "title": "RelationshipStatusSchema", "description": "Schema for relationship status in sales/client lifecycle."}, "SendOTPRequest": {"properties": {"phone": {"type": "string", "title": "Phone"}}, "type": "object", "required": ["phone"], "title": "SendOTPRequest"}, "SignInRequest": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "password": {"type": "string", "title": "Password"}}, "type": "object", "required": ["email", "password"], "title": "SignInRequest"}, "SignUpRequest": {"properties": {"email": {"type": "string", "format": "email", "title": "Email"}, "password": {"type": "string", "title": "Password"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name"}}, "type": "object", "required": ["email", "password"], "title": "SignUpRequest"}, "StatusHistoryEntrySchema": {"properties": {"id": {"type": "string", "format": "uuid", "title": "Id", "description": "Status history entry ID"}, "from_status": {"anyOf": [{"$ref": "#/components/schemas/RelationshipStatusSchema"}, {"type": "null"}], "description": "Previous status"}, "to_status": {"$ref": "#/components/schemas/RelationshipStatusSchema", "description": "New status"}, "timestamp": {"type": "string", "title": "Timestamp", "description": "Change timestamp"}, "changed_by": {"type": "string", "title": "Changed By", "description": "User who made the change"}, "reason": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Reason", "description": "Reason for status change"}}, "type": "object", "required": ["id", "to_status", "timestamp", "changed_by"], "title": "StatusHistoryEntrySchema", "description": "Schema for status history entry."}, "SwitchBusinessContextRequest": {"properties": {"business_id": {"type": "string", "title": "Business Id", "description": "Business ID to switch to"}}, "type": "object", "required": ["business_id"], "title": "SwitchBusinessContextRequest", "description": "Schema for switching business context.", "example": {"business_id": "123e4567-e89b-12d3-a456-426614174000"}}, "UserBusinessSummaryResponse": {"properties": {"business": {"$ref": "#/components/schemas/BusinessSummaryResponse"}, "membership": {"$ref": "#/components/schemas/BusinessMembershipResponse"}, "is_owner": {"type": "boolean", "title": "Is Owner"}, "pending_invitations_count": {"anyOf": [{"type": "integer"}, {"type": "null"}], "title": "Pending Invitations Count"}}, "type": "object", "required": ["business", "membership", "is_owner", "pending_invitations_count"], "title": "UserBusinessSummaryResponse", "description": "Response schema for user's business summary."}, "UserProfileResponse": {"properties": {"id": {"type": "string", "title": "Id"}, "email": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Email"}, "phone": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Phone"}, "full_name": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Full Name"}, "is_active": {"type": "boolean", "title": "Is Active"}, "is_superuser": {"type": "boolean", "title": "Is Superuser"}, "supabase_id": {"type": "string", "title": "Supabase Id"}, "created_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Created At"}, "updated_at": {"anyOf": [{"type": "string"}, {"type": "null"}], "title": "Updated At"}, "business_memberships": {"items": {"$ref": "#/components/schemas/BusinessMembershipSummary"}, "type": "array", "title": "Business Memberships", "default": []}, "has_businesses": {"type": "boolean", "title": "Has Businesses"}, "needs_onboarding": {"type": "boolean", "title": "Needs Onboarding"}}, "type": "object", "required": ["id", "is_active", "is_superuser", "supabase_id", "created_at", "updated_at", "has_businesses", "needs_onboarding"], "title": "UserProfileResponse"}, "ValidationError": {"properties": {"loc": {"items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}, "type": "array", "title": "Location"}, "msg": {"type": "string", "title": "Message"}, "type": {"type": "string", "title": "Error Type"}}, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError"}}, "securitySchemes": {"Authorization": {"type": "http", "scheme": "bearer"}}}}
